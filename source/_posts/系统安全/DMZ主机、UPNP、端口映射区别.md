---
title: DMZ主机、UPNP、端口映射区别
categories:
- 系统安全
---
DMZ是设置了内网中一台机子完全暴露在外网上，意味着所有直接访问路由的端口都会转发到这个指定的IP上。而UPNP有点像端口映射，不过这种映射是临时的并且是由应用软件启动的，如果路由支持并且开启了UPNP，那么那些可以使用UPNP功能的软件，比如说PPTV，在它要向外网暴露一个端口的时候就会通过UPNP功能向路由申请这个端口，这样外网对这个端口的连入就会被路由转发到运行PPTV的这台机的IP。其实还有一个端口映射，DMZ和端口映射和UPNP有点类似但又有区别。

DMZ：设置比较简单，但一个路由器只能指定一台DMZ主机，并且是所有端口都开放，不能只开放某些端口，从安全性来说相对差一点。如果你的内网有多台主机要让外网直接访问，DMZ也不适合。

端口映射：比较灵活，但需手工指定，比如说内网有一台HTTP服务器，又有另一台FTP服务器，要让这两台服务器在外网可以直接访问，使用端口映射就不错，把80端口映射到HTTP服务器的IP，而21和23端口映射到FTP服务器的IP，这样外网就能直接访问这两台服务器。

UPNP：由应用程序使用，只要路由器打开UPNP，不需要人工干预。缺点是不是所有软件都支持UPNP，并且不利于管理和控制，比如说在网吧这种场合，如果启用UPNP，那么内网几十台机上运行的支持UPNP的程序每台在路由上开几个端口，这样路由会吃不消，所以一般网吧等场合，路由的UPNP功能一般是关闭的。
