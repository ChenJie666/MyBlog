---
title: scalaç¼–ç¨‹
categories:
- ç¼–ç¨‹è¯­è¨€
---
>1. ä¼´ç”Ÿå¯¹è±¡ä¸­å¯ä»¥å†™é™æ€æ–¹æ³•ï¼Œä½†æ˜¯åº•å±‚å¹¶ä¸æ˜¯é€šè¿‡é™æ€æ–¹æ³•å®ç°çš„ã€‚è€Œæ˜¯é€šè¿‡é¥¿æ±‰æ¨¡å¼åˆ›å»ºå•ä¾‹ï¼Œé€šè¿‡è¿™ä¸ªå•ä¾‹å¯¹è±¡è¿›è¡Œæ–¹æ³•çš„è°ƒç”¨ï¼Œå®ç°äº†é™æ€æ–¹æ³•çš„åŠŸèƒ½ã€‚
>2. åªæœ‰ä¼´ç”Ÿç±»ï¼Œé‚£ä¹ˆç¼–è¯‘ä¹‹ååªä¼šç”Ÿæˆä¸€ä¸ªç¼–è¯‘æ–‡ä»¶ã€‚åªæœ‰ä¼´ç”Ÿå¯¹è±¡ï¼Œé‚£ä¹ˆç¼–è¯‘ä¹‹åä¼šåŒæ—¶ç”Ÿæˆä¸¤ä¸ªç¼–è¯‘æ–‡ä»¶ã€‚

![ä¼´ç”Ÿç±»ç¼–è¯‘æ–‡ä»¶](scalaç¼–ç¨‹.assets86c7bb7623402baa75f9e5412f7d3c.png)

![ä¼´ç”Ÿå¯¹è±¡ç¼–è¯‘æ–‡ä»¶](scalaç¼–ç¨‹.assets68afa77ce4f457d900b44fb54235a63.png)


<br>
<br>
ç»Ÿè®¡ç›¸åŒå•è¯çš„æ•°é‡ï¼š

æ–¹å¼ä¸€ï¼šå°†å­—ç¬¦ä¸² * 5ï¼Œç„¶åå†åˆ‡å‰²

æ–¹å¼äºŒï¼šå°†æ¯ä¸ªå•è¯çš„æ•°é‡ä»¥å…ƒç»„å½¢å¼å­˜æ”¾ï¼Œå†ç»Ÿè®¡

```scala
object Exam22{
  def main(args: Array[String]): Unit = {
    val lineList = List(("Hadoop Hbase Hive",5), ("Hadoop Kafka Hive",4), ("Kafka Hive",3), ("Hive", 2))

    val tuples: List[(String, Int)] = lineList.flatMap {
      case (sentence, count) => sentence.split(" ").map {
        word => (word, count) //å°†ä¸€ä¸ªæ•°ç»„ç”¨mapæ–¹æ³•ä¹‹åè¿”å›è¿˜æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥ç¬¦åˆflatMapçš„è¿”å›å€¼å¯è¿­ä»£è¦æ±‚
      }
    }

    val tuplesH: List[(String, Int)] = tuples.filter {
      case (word, count) => word.contains("H")
    }
    val stringToTuples: Map[String, List[(String, Int)]] = tuplesH.groupBy {
      case (word, count) => word
    }
    val stringToInts: Map[String, List[Int]] = stringToTuples.map {
      case (word,list) => (word,list.map{
        case (word,count) => count
      })
    }
    println(stringToInts)

    val stringToInt: Map[String, Int] = stringToInts.map {
      case (word, list) => (word, list.sum)
    }
    println(stringToInt)

//    val wordSort: List[(String, Int)] = stringToInt.toList.sortBy {
//      case (word, count) => count
//    }
//    println(wordSort)
//
//    println(wordSort.takeRight(2))

    val wordSort: List[(String, Int)] = stringToInt.toList.sortWith {
      case ((s1, c1), (s2, c2)) => c1 > c2
    }
    println(wordSort.take(2))

  }
}
```



 **_  çš„ç”¨æ³•ï¼šâ‘ åŒ…ä¸­æ‰€æœ‰ç±»â‘¡ç³»ç»Ÿé»˜è®¤åˆå§‹åŒ–â‘¢å°†å‡½æ•°ä¸æ‰§è¡Œè¿”å›â‘£å‚æ•°å ä½ç¬¦â‘¤éšè—å¯¼å…¥çš„ç±»â‘¥æ ‡è¯†ç¬¦â‘¦ç»å¯¹è·¯å¾„**â‘§case _ ä¸ç®¡ä»€ä¹ˆå€¼éƒ½åŒ¹é…â‘¨case _:BigInt =>...  å½“åé¢ä¸ç”¨è¯¥å˜é‡ï¼Œä¸å…³å¿ƒå˜é‡æ—¶ï¼Œå¯ä»¥ç”¨ _ ä»£æ›¿ã€‚

**[] çš„ç”¨æ³•ï¼šâ‘ protected[åŒ…å]â‘¡æ³›å‹ classOf[] , inInstanceOf[] asInstanceOf[] ï¼ŒArray[]â‘¢å®ç°ç‰¹è´¨ä¸­æ–¹æ³•æ—¶æŒ‡å‘ç±»  super[Operate].insert( )**



![1563934859730](scala.assets/1563934859730.png

![1563934859730](F:/Typora/å›¾ç‰‡/1563934859730.png)







```scala
æšä¸¾ç±»ï¼š
package com.atguigu.bigdata.scala.chapter01

import com.atguigu.bigdata.scala.chapter01

object Enumeration {
  def main(args: Array[String]): Unit = {
    println(Color.red)
    Color.printcolor
    val color = new Color
    println(color.name)
  }
}
class Color{
  var name = "zhangsan"
  Color.printcolor
}
object Color extends Enumeration{
  val red: chapter01.Color.Value = Value(1,"red")
  val blue = Value(2,"blue")
  def printcolor {
    println("I'm " + blue)
  }

}
```

	

```scala
å°æœ‹å‹ç©æ¸¸æˆï¼š
package com.atguigu.bigdata.scala.chapter01

object ChildPalyGame {
  def main(args: Array[String]): Unit = {	//æ­¤å¤„å¯ä»¥åˆ å»mainæ–¹æ³•ï¼Œè®©ä¼´ç”Ÿå¯¹è±¡ç»§æ‰¿Appç‰¹è´¨ï¼Œä¹Ÿå¯ä»¥									æ­£å¸¸æ‰§è¡Œã€‚å¥½å¤„æ˜¯mainæ–¹æ³•ä¼šæ‰§è¡Œä¸»æ–¹æ³•å¤–çš„å¯æ‰§è¡Œè¯­è¨€ï¼Œè¿™æ ·æ›´åŠ æ¸…æ™°ã€‚
    Child.JoinGame(Child("zhangsan"))
    Child.JoinGame(Child("lisi"))
    Child.total
  }
}
class Child(var name : String){
  def this(name:String,i:Int){
    this(name:String)
  }
  println("123124")
}
object Child{
  def apply(name: String): Child = new Child(name,1)
  var totalChild = 0
  def JoinGame(child : Child): Unit ={
    println(child.name + " join the game")
    totalChild += 1
  }
  def total(): Unit ={
    println("total " + totalChild + " playing game")
  }
  println("afasdf")
}

ç¼–è¯‘åçš„åç¼–è¯‘æºç ï¼š
public final class ChildPalyGame
{
  public static void main(String[] paramArrayOfString)
  {
    ChildPalyGame..MODULE$.main(paramArrayOfString);
  }
}

public final class ChildPalyGame$
{
  public static final  MODULE$ = new ();

  public void main(String[] args) { Child..MODULE$.JoinGame(Child..MODULE$.apply("zhangsan"));
    Child..MODULE$.JoinGame(Child..MODULE$.apply("lisi"));
    Child..MODULE$.total();
  }
}

public class Child
{
  private String name;		//å±æ€§éƒ½æ˜¯ç§æœ‰åŒ–çš„ï¼Œé€šè¿‡å¯¹è±¡ä¿®æ”¹æˆ–è¯»å–å±æ€§æ˜¯é€šè¿‡set/getæ–¹æ³•å®ç°çš„

  public static void total()
  {
    Child..MODULE$.total();
  }

  public static void JoinGame(Child paramChild)
  {
    Child..MODULE$.JoinGame(paramChild);
  }

  public static void totalChild_$eq(int paramInt)
  {
    Child..MODULE$.totalChild_$eq(paramInt);
  }

  public static int totalChild()
  {
    return Child..MODULE$.totalChild();
  }

  public static Child apply(String paramString)
  {
    return Child..MODULE$.apply(paramString);
  }

  public String name(){  return this.name; } 				//å±æ€§çš„getæ–¹æ³•
  public void name_$eq(String x$1) { this.name = x$1; } 	//å±æ€§çš„setæ–¹æ³•
  public Child(String name) { Predef..MODULE$.println("123124") } 	//ä¸»æ„é€ æ–¹æ³•
  public Child(String name, int i) { this(name); }					//è¾…æ„é€ æ–¹æ³•
}

public final class Child$
{
  public static final  MODULE$ = new ();

  private static int totalChild = 0;

  static
  {
    Predef..MODULE$.println("afasdf"); } 
  public Child apply(String name) { return new Child(name, 1); } 
  public int totalChild() { return totalChild; } 
  public void totalChild_$eq(int x$1) { totalChild = x$1; } 
  public void JoinGame(Child child) {
    Predef..MODULE$.println(14 + child.name() + " join the game");
    totalChild_$eq(totalChild() + 1);
  }
  public void total() {
    Predef..MODULE$.println(19 + "total " + totalChild() + " playing game");
  }
}
```

	scalaä¸­ï¼Œå°†é™æ€çš„å±æ€§å’Œæ–¹æ³•å†™åœ¨ä¼´ç”Ÿå¯¹è±¡ä¸­ï¼Œå°†éé™æ€çš„å±æ€§å’Œæ–¹æ³•å†™åœ¨ä¼´ç”Ÿç±»ä¸­ã€‚ä¼´ç”Ÿå¯¹è±¡åœ¨ç¼–è¯‘åçš„ç±»ä¸­ä¼šç”Ÿæˆä¸€ä¸ªé™æ€çš„è‡ªèº«å¯¹è±¡ï¼Œå½“æˆ‘ä»¬ä»¥é™æ€çš„æ–¹å¼è®¿é—®å…¶ä¸­çš„å±æ€§å’Œæ–¹æ³•æ—¶ï¼Œç¼–è¯‘åä¼šé€šè¿‡è¿™ä¸ªå”¯ä¸€çš„é™æ€å¯¹è±¡è°ƒç”¨ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•æ¥æ¨¡æ‹Ÿjavaä¸­çš„é™æ€å±æ€§å’Œæ–¹æ³•ã€‚

	å› ä¸ºåœ¨åº•å±‚ç¼–è¯‘æ—¶ï¼Œobjectä¼´ç”Ÿå¯¹è±¡ä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œå°†ç±»ä¸­çš„å¯æ‰§è¡Œè¯­å¥éƒ½æ”¾å…¥åˆ°é™æ€ä»£ç å—ä¸­ï¼Œæ‰€ä»¥åœ¨æ‰§è¡Œä¼´ç”Ÿå¯¹è±¡çš„ä¸»æ–¹æ³•æ—¶ï¼Œä¼šæ‰§è¡Œä¸»æ–¹æ³•å¤–çš„å¯æ‰§è¡Œè¯­å¥ï¼›å½“åŠ è½½ç±»æ—¶ï¼Œå°±ä¼šå…ˆè¿è¡Œé™æ€ä»£ç å—ä¸­çš„ä»£ç ã€‚è€Œä¼´ç”Ÿç±»ï¼Œä¼šå°†ç±»ä¸­çš„å¯æ‰§è¡Œè¯­è¨€æ”¾å…¥åˆ°ä¸»æ„é€ å™¨ä¸­ï¼Œæ‰€ä»¥scalaè§„å®šå¿…é¡»è¦é€šè¿‡ä¸»æ„é€ å™¨åˆ›å»ºå¯¹è±¡ã€‚







å½“æŠŠä¸€ä¸ªè®¡ç®—ç»“æœèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šè¿›è¡Œç±»å‹è½¬åŒ–åŠåˆ¤æ–­ã€‚

å½“æŠŠä¸€ä¸ªå­—é¢é‡èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šè¿›è¡ŒèŒƒå›´çš„åˆ¤å®šã€‚



var a : short = 50 ä¸ç”¨ç±»å‹è½¬æ¢
var b : float = 50.0f éœ€è¦æŒ‡å®šç±»å‹
var c : short = 'a' + 1 ä¸ä¼šæŠ¥é”™
var d : short = 10 + 10 ä¸ä¼šæŠ¥é”™ï¼Œå†ç¼–è¯‘æ—¶ä¼šè‡ªåŠ¨ç›¸åŠ ï¼Œç¼–è¯‘ååªæœ‰20ï¼Œå’Œç›´æ¥å†™20çš„æ•ˆæœä¸€æ ·ã€‚å¦‚æœæœ‰å˜é‡åˆ™ä¼šè½¬æˆintå‹ã€‚

nothingä¸ºä»€ä¹ˆå¯ä»¥è¿”å›å¼‚å¸¸å¯¹è±¡ï¼Œnothingç±»ä¸æ˜¯åº•å±‚ç±»ä¹ˆï¼Ÿ



scalaåŸºæœ¬åŸåˆ™ï¼šè‡³ç®€åŸåˆ™

1.ä½¿ç”¨objectå…³é”®å­—å£°æ˜

	å¦‚æœä½¿ç”¨objectå£°æ˜ç±»ï¼Œå¯ä»¥ç¼–è¯‘å‡ºä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªæ˜¯å½“å‰ç±»ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å½“å‰ç±»çš„ä¸€ä¸ªè¾…åŠ©ç±»ï¼Œæ‰§è¡Œæ—¶ï¼Œè¾…åŠ©ç±»å¯ä»¥ç›´æ¥æ„å»ºå¯¹è±¡ä½¿ç”¨ï¼ˆä¼´ç”Ÿå¯¹è±¡ï¼‰ï¼Œä¸ºäº†æ¨¡æ‹Ÿé™æ€è¯­æ³•ã€‚

2.å£°æ˜mainæ–¹æ³•

	2.1å¿…é¡»ä½¿ç”¨defå…³é”®å­—ï¼ˆdefindedï¼‰å£°æ˜

	2.2Scalaä¸­æ²¡æœ‰publicå…³é”®å­—ï¼Œé»˜è®¤è®¿é—®æƒé™å°±æ˜¯public

	2.3ä¸éœ€è¦ä½¿ç”¨staticå…³é”®å­—å£°æ˜ï¼Œå› ä¸ºScalaæ˜¯å®Œå…¨é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæ‰€ä»¥æ²¡æœ‰é™æ€è¯­æ³•ã€‚

	2.4 ç”¨Unitç±»ä»£æ›¿å…³é”®å­—void

	2.5scalaä¸­å‚æ•°å‘½åä¸º   å‚æ•°å ï¼š å‚æ•°ç±»å‹

	å› ä¸ºjavaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œä¸€å®šè¦åŠ ç±»å‹ï¼›è€Œscalaè®¤ä¸ºç±»å‹ä¸é‚£ä¹ˆé‡è¦ï¼Œæ‰€ä»¥å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹éƒ½æ”¾åé¢

3.æ‰“å°å­—ç¬¦ä¸²

	javaï¼š  System.out.println(ï¼‰

	scalaï¼š println()       predefé¢„å…ˆç¼–è¯‘å¥½çš„åŠŸèƒ½ï¼Œprintlnå°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œæœ€ç»ˆä¼šè°ƒç”¨javaçš„IOæµã€‚11:40



	println(raw"xxxx
xxx")	
ä¸æ¢è¡Œï¼Œä»¥å­—ç¬¦ä¸²è¾“å‡º

	println("""xxx

			xxx

			xxx

			""")		ä»¥ç»™å®šçš„æ ¼å¼æ‰“å°

printlnï¼ˆf"age = $age%.2f"ï¼‰  fè¡¨ç¤ºæ ¼å¼åŒ–ï¼Œå°†$ageæ ¼å¼åŒ–è¾“å‡º 

println(" " * i )  	è¾“å‡ºiä¸ªç©ºæ ¼ ,é€šè¿‡è¿™ç§è¡¨è¾¾å¼ï¼Œå¯ä»¥åªç”¨ä¸€ä¸ªå¾ªç¯å°±æ‰“å°å‡ºä¸‰è§’å½¢ã€‚

println(s"$id,$name")



javapï¼Ÿï¼Ÿjavapæ˜¯jdkè‡ªå¸¦çš„åè§£æå·¥å…·ï¼Œå¯ä»¥å°†javapæŒ‡ä»¤åŠ å…¥åˆ°ideaä¸­ï¼ŒæŸ¥çœ‹javaå­—èŠ‚ç çš„åç¼–è¯‘ç ã€‚

javadocæŒ‡ä»¤ç”ŸæˆAPIæ–‡æ¡£ï¼Ÿé€šè¿‡javadoc æ–‡ä»¶å.javaï¼Œå¯ä»¥æå–ä»£ç ä¸­çš„æ³¨é‡Šç”Ÿæˆå¼€å‘æ–‡æ¡£ã€‚

åŠè§’ç©ºæ ¼ï¼ŸåŠè§’å ä¸€ä¸ªå­—èŠ‚ï¼Œå…¨è§’å ä¸¤ä¸ªå­—èŠ‚ï¼Œtrimå»ä¸äº†å…¨è§’ç©ºæ ¼ï¼Œå¯ä»¥ç”¨replaceæ–¹æ³•å°†å…¨è§’ç©ºæ ¼æ¢æˆåŠè§’ç©ºæ ¼å†ç”¨trimå»é™¤ã€‚



15ï¼š00 æ”¹å˜Stringç±»ä¸­çš„finalä¿®é¥°çš„charæ•°ç»„ï¼ˆç”¨åå°„ï¼‰

![æ•è·](scala.assets/æ•è·.PNG

![æ•è·](F:/Typora/å›¾ç‰‡/æ•è·.PNG)

	

	15:37ä¼´ç”Ÿå¯¹è±¡ï¼Ÿobjectç±»å°±æ˜¯ä¸€ä¸ªä¼´ç”Ÿå¯¹è±¡ï¼Œç¼–è¯‘åä¼šç”Ÿæˆä¸€ä¸ªä¼´ç”Ÿç±»å¯¹è±¡ï¼Œç”±ä¸»å‡½æ•°è°ƒç”¨ã€‚å¯ä»¥åœ¨ä¼´ç”Ÿç±»ä¸­å£°æ˜å±æ€§ã€‚valç›¸å½“äºç»™å˜é‡åŠ äº†ä¸€ä¸ªfinalä¿®é¥°ï¼Œä½†æ˜¯ç¼–è¯‘ååªæœ‰å±æ€§å˜é‡æœ‰finalï¼Œå› ä¸ºå±€éƒ¨å˜é‡ä¸èƒ½ç”¨finalä¿®é¥°ã€‚



	å¯¹äºå¤šæ€çš„ç±»æœ‰å¤šä¸ªé‡è½½æ–¹æ³•ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šé€‰æ‹©é‡è½½æ–¹æ³•ï¼Œæ ¹æ®çš„æ˜¯çˆ¶ç±»çš„ç±»å‹é€‰æ‹©é‡è½½æ–¹æ³•ï¼Œè€Œä¸æ˜¯å­ç±»å¯¹è±¡çš„ç±»å‹



javaçš„objectç±»æ˜¯anyçš„å­ç±»ï¼Œanyrefçš„çˆ¶ç±»ã€‚



String s = "a" + "b" + "c"  åªåˆ›å»ºä¸€ä¸ªå¸¸é‡å­—ç¬¦ä¸²"abc"ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ç›´æ¥ç¼–è¯‘ä¸ºâ€œabcâ€ï¼Œæ‰€ä»¥è¿è¡Œæ—¶åªç”Ÿæˆâ€œabcâ€



16:31ä¸ºä»€ä¹ˆå˜é‡ç›¸åŠ ä¼šè‡ªåŠ¨è½¬æˆintç±»å‹ï¼Ÿï¼Ÿåº•å±‚æŒ‡ä»¤ä¸å¤Ÿï¼Œå› ä¸ºç”¨ASCIIç ä½œä¸ºæŒ‡ä»¤é›†ï¼ˆ255ï¼‰ï¼Œæ‰€ä»¥ä¸ºäº†èŠ‚çœæŒ‡ä»¤é›†ç©ºé—´ï¼Œæ²¡æœ‰shortå’Œbyteçš„è¿ç®—æŒ‡ä»¤ã€‚æ‰€ä»¥åªèƒ½ä½œintè¿ç®—æ“ä½œã€‚



scalaä¸­æ‰€æœ‰æ•°å­—ä¹Ÿéƒ½æ˜¯å¯¹è±¡ï¼Œ10+10å®é™…ä¸º10.+ï¼ˆ10ï¼‰    1 to 3 å®é™…ä¸º1.to(3)ï¼Œtoæ–¹æ³•å¯ä»¥æŒ‡å®šæ­¥é•¿1.to(10,2)æ­¥é•¿ä¸º2ã€‚ä½†æ˜¯ä¸€èˆ¬å†™æˆi <- Range(1,10,2)ã€‚





9:20å¤šæ€çš„åŠ¨æ€ç»‘å®šåªå¯¹æ–¹æ³•è¿›è¡Œç»‘å®šï¼Œå¦‚æœæœ‰é‡è½½çš„æ–¹æ³•ï¼Œè°ƒç”¨æ–¹æ³•æ—¶æŒ‡å‘**å¯¹è±¡**çš„å®é™…çš„å†…å­˜ï¼Œå¦‚æœå¯¹è±¡ä¸­æ²¡æœ‰é‡å†™è¯¥æ–¹æ³•ï¼Œåˆ™æŒ‡å‘çˆ¶ç±»çš„å®é™…å†…å­˜ï¼Œæˆå‘˜å˜é‡ä¸ºæŒ‡å‘çš„å†…å­˜ä¸­çš„å€¼ã€‚å¦‚ä¸‹å›¾ä¸­ï¼Œå°†æ³¨é‡Šçš„éƒ¨åˆ†æ”¾å¼€ï¼Œè¿è¡Œå¾—åˆ°çš„ç»“æœä¸º30ï¼›æ³¨é‡Šä¹‹åå¾—åˆ°çš„ç»“æœä¸º20.

![åŠ¨æ€ç»‘å®šæœºåˆ¶](F:/Typora/å›¾ç‰‡/åŠ¨æ€ç»‘å®šæœºåˆ¶.PNG)



10:00

i=i++çš„å­—èŠ‚ç åç¼–è¯‘ç ï¼šå³ç”¨åˆ°ä¸´æ—¶å˜é‡å­˜å‚¨içš„å€¼ï¼Œiå¢åŠ 1ä½œä¸ºiçš„å€¼ã€‚

![æ•è·3](F:/Typora/å›¾ç‰‡/æ•è·3.PNG)

	

 i=i++çš„åº•å±‚å­—èŠ‚ç å®ç°ï¼š

	![æ•è·2](F:/Typora/å›¾ç‰‡/æ•è·2.PNG)	å¸¸é‡è¡¨ä¸­æœ‰ä¸¤ä¸ªå¸¸é‡argså’Œiï¼Œåˆ†åˆ«å ç”¨äº†1å·å’Œ2å·slotæ§½ä½ã€‚i=i++ åº•å±‚å­—èŠ‚ç å®ç°ï¼Œå…ˆå°†i=10å‹å…¥æ ˆé¡¶ï¼Œç„¶åå°†içš„å€¼å­˜å‚¨åˆ°1å·æ§½ä½ï¼Œå†å°†1å·æ§½çš„å€¼åŠ è½½åˆ°æ ˆé¡¶ï¼Œç„¶åå¯¹1å·æ§½ä½çš„å€¼è‡ªå¢1ã€‚ç„¶åè¿›è¡Œèµ‹å€¼æ“ä½œï¼Œå°†æ ˆé¡¶çš„i=10å†æ¬¡å­˜å‚¨åˆ°1å·æ§½ä½ã€‚æ‰€ä»¥æœ€ç»ˆ1å·æ§½ä½çš„å˜é‡içš„å€¼ä¸º10ï¼›









10:32 BigDecimalï¼ˆ2.1ï¼‰./3 == 0.7	ç›´æ¥ç”¨æµ®ç‚¹æ•°2.1è¿ç®—ä¼šæŸå¤±ç²¾åº¦ï¼Œç»“æœä¸ç­‰äº0.7ï¼›æ‰€ä»¥å…ˆè½¬æˆå¤§æ•°ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œå†è°ƒç”¨å¤§æ•°å¯¹è±¡çš„æ–¹æ³•è¿›è¡Œè®¡ç®—ã€‚

ä¸€å…ƒè¿ç®—ç¬¦ä¸æå‡æ•°æ®ç±»å‹



10:48

&ç”¨äºè®¡ç®—å“ˆå¸Œè¡¨çš„slotå·ï¼ˆmapä¸­å’Œredisçš„slotè®¡ç®—éƒ½ä¼šç”¨åˆ°ï¼‰ï¼Œå°†2^n-1ï¼Œç„¶åä¸ä¸Šå“ˆå¸Œå€¼ï¼Œå¾—åˆ°slotå·ã€‚

å½“è¦æ±‚çš„é•¿åº¦æ˜¯2^næ—¶ï¼Œç”¨$ï¼›å½“ä¸èƒ½ä¿è¯é•¿åº¦æ˜¯2^næ—¶ï¼Œåªèƒ½å–æ¨¡ã€‚æ‰€ä»¥kafkaçš„åˆ†åŒºç”¨å–æ¨¡æ¥è®¡ç®—ï¼Œå› ä¸ºä¸èƒ½ä¿è¯åˆ†åŒºæ•°ä¸º2^nã€‚



15:50ï¼Ÿï¼Ÿ è°ƒç”¨ä¸€ä¸ªä¸ºç©ºå¯¹è±¡çš„**æˆå‘˜å±æ€§æˆ–æˆå‘˜æ–¹æ³•**ï¼Œä¼šå‘ç”Ÿ**ç©ºæŒ‡é’ˆå¼‚å¸¸**ï¼ˆå³åªæœ‰å¯¹è±¡è°ƒç”¨æˆå‘˜å±æ€§æˆ–æˆå‘˜æ–¹æ³•æ˜¯ä¼šå‘ç”Ÿç©ºæŒ‡é’ˆå¼‚å¸¸ï¼‰ã€‚



16:17 é¢å‘å¯¹è±¡ç¼–ç¨‹	å¯¹äºç±»çš„å…±æœ‰çš„å±æ€§ï¼Œéœ€è¦å°†å…¶è®¾ä¸ºé™æ€å±æ€§å’Œæ–¹æ³•ã€‚



å°†ç±»ä¸­å£°æ˜çš„å‡½æ•°ç§°ä¸ºæ–¹æ³•ï¼Œæ‰€ä»¥æ–¹æ³•æœ‰é‡è½½å’Œé‡å†™çš„æ¦‚å¿µã€‚

å‡½æ•°æ²¡æœ‰é‡å†™å’Œé‡è½½çš„æ¦‚å¿µã€‚



ç»Ÿä¸€è®¿é—®åŸåˆ™ï¼Œè®¿é—®å˜é‡å’Œè®¿é—®å‡½æ•°å½¢å¼ç»Ÿä¸€ã€‚

å¦‚æœå‡½æ•°å£°æ˜è¿”å›å€¼ç±»å‹ä¸ºUnitï¼Œé‚£ä¹ˆå‡½æ•°ä½“ä¸­çš„returnæ“ä½œä¸èµ·ä½œç”¨ã€‚



9:15

åŒ¿åå‡½æ•°ï¼š()->{println("xxx")}	

val f9 = ()=>{println("yyy")}	è°ƒç”¨å‡½æ•°f9() ,æ‹¬å·ä¸èƒ½çœç•¥ã€‚

val f9 = (i:Int)=>{println("yyy")}



```scala
  object Scala04_NightMareLevelFunction {
   def main(args: Array[String]): Unit = {
   
   	def f1( name : String ): String = {
        return "Name:" + name
    }
    // å£°æ˜å‡½æ•°åï¼Œå¯ä»¥å°†å‡½æ•°ä½“æœ€åä¸€è¡Œä»£ç ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ï¼Œæ‰€ä»¥returnå…³é”®å­—å¯ä»¥çœç•¥
    def f2( name : String ): String = {
        "Name:" + name
    }

    // å¦‚æœå‡½æ•°å¯ä»¥è‡ªåŠ¨æ¨æ–­å‡ºè¿”å›å€¼ç±»å‹ï¼Œé‚£ä¹ˆè¿”å›å€¼ç±»å‹å¯ä»¥çœç•¥
    def f3( name : String ) = {
        "Name:" + name
    }

    // å¦‚æœå‡½æ•°é€»è¾‘åªæœ‰ä¸€è¡Œä»£ç ï¼Œé‚£ä¹ˆèŠ±æ‹¬å·å¯ä»¥çœç•¥
    def f4() = "abc"

    // å¦‚æœå‚æ•°åˆ—è¡¨æ²¡æœ‰å‚æ•°ï¼Œé‚£ä¹ˆå‚æ•°åˆ—è¡¨çš„å°æ‹¬å·å¯ä»¥çœç•¥
    // val f5 = "bcd"
    // ç»Ÿä¸€è®¿é—®åŸåˆ™
    def f5 = "bcd"

    // å¦‚æœå‡½æ•°çš„å‚æ•°åˆ—è¡¨å·²å£°æ˜ï¼Œé‚£ä¹ˆè°ƒç”¨æ—¶å¯ä»¥ä½¿ç”¨å°æ‹¬å·ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨
    // å¦‚æœå‡½æ•°çš„å‚æ•°åˆ—è¡¨æœªå£°æ˜ï¼Œé‚£ä¹ˆè°ƒç”¨æ—¶ä¸èƒ½ä½¿ç”¨å°æ‹¬å·
    //println(f4)

    // å¦‚æœå‡½æ•°ä½“ä¸­æœ‰æ˜ç¡®çš„returnæ“ä½œï¼Œé‚£ä¹ˆå‡½æ•°å¿…é¡»å£°æ˜è¿”å›å€¼ç±»å‹
    def f6( name : String ) = {
        val flg = true
        if ( flg ) {
            "Name:" + name
        } else {
            1
        }

    }

    // å¦‚æœå‡½æ•°å£°æ˜è¿”å›å€¼ç±»å‹ä¸ºUnit,é‚£ä¹ˆå‡½æ•°ä½“ä¸­çš„returnæ“ä½œä¸èµ·ä½œç”¨
    def f7(): Unit = {
       return "zhangsan"
    }

    // å¦‚æœUnitç±»å‹ä¹Ÿæƒ³çœç•¥ï¼Œå¯ä»¥åŒæ—¶å°†ç­‰å·çœç•¥
    // å°†è¿™æ ·çš„å‡½æ•°ç§°ä¹‹ä¸ºè¿‡ç¨‹
    def f8() {
        return 1
    }
    //println(f8)

    // å¦‚æœåªå…³ç³»é€»è¾‘ï¼Œè€Œä¸å…³å¿ƒæ–¹æ³•åç§°ï¼Œé‚£ä¹ˆå‡½æ•°åç§°å¯ä»¥çœç•¥ï¼Œdefå…³é”®å­—ä¹Ÿå¯ä»¥çœç•¥
    //()->{println("xxxxxx")}
    // åŒ¿åå‡½æ•°
    //() => {println("yyyyy")}

    // scalaè¯­æ³•ä¸­ï¼Œä¸‡ç‰©çš†å‡½æ•°ï¼Œæ‰€ä»¥ä»€ä¹ˆéƒ½å¯ä»¥æ˜¯å‡½æ•°
    // å˜é‡ä¹Ÿèƒ½æ˜¯å‡½æ•°
    val f9 = (i:Int) => {println("i = " + i)};

    f9(10)
       
       
    val f10 = () => println("yyyyy")
    f10()
    val f11 = (a:Int) => a + 1
    println(f11(1))
  }
 }
```

	åŒ¿åå‡½æ•°å‚æ•°æœ€å¤šä¸º22ä¸ªï¼ˆ1~22ï¼‰ï¼Œå¯ä»¥ç”¨é›†åˆä½œä¸ºå‚æ•°å®ç°å¤šä¸ªå‚æ•°ã€‚

	é—­åŒ…ï¼šå½“å‰å‡½æ•°çš„å†…éƒ¨ç”¨åˆ°äº†å‡½æ•°ä¹‹å¤–çš„å˜é‡ï¼Œä¸ºäº†é˜²æ­¢å¤–éƒ¨å˜é‡åœ¨å‡½æ•°å†…å¤±æ•ˆï¼Œå°†å˜é‡åŒ…å«é“å‡½æ•°å†…éƒ¨ï¼Œå½¢æˆé—­åˆçš„æ•ˆæœï¼Œç§°ä¹‹ä¸ºé—­åŒ…ã€‚å³æ”¹å˜äº†å˜é‡çš„ç”Ÿå‘½å‘¨æœŸã€‚ç§‘é‡ŒåŒ–ä¸­ä¸€å®šä¼šå‡ºç°é—­åŒ…ã€‚

	å› ä¸ºæ–¹æ³•è°ƒç”¨æ–¹æ³•ï¼Œä¸€ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæ¯•ä¹‹åä¸€å®šä¼šå¼¹æ ˆï¼Œæ‰€ä»¥æ–¹æ³•ä¸­å®šä¹‰çš„å˜é‡åœ¨å¼¹æ ˆæ—¶ä¼šå¤±æ•ˆã€‚

```scala
object Scala05_HellLevelFunction {


    def main(args: Array[String]): Unit = {

        // åœ°ç‹±ç‰ˆå‡½æ•°å¼ç¼–ç¨‹
        // TODO å‡½æ•°çš„å‚æ•°æ˜¯å‡½æ•°
        // å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°
        // å£°æ˜çš„æ–¹å¼ ï¼š å‚æ•°åï¼šå‚æ•°ç±»å‹
        // f : (Int)=>Unit
        def f( param : (Int)=>Unit ): Unit = {
            param(10)
        }

        // è°ƒç”¨å‡½æ•°
        def ff(i:Int): Unit = {
            println("i = " + i)
        }
        //f(ff)

        def f1( param:()=>Unit ): Unit = {
            param()
        }

        def f11(): Unit = {
            println("f111111")
        }

        //f1( f11 )

        // TODO å°†ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼è¿”å›,ä¸æ‰§è¡Œè¿™ä¸ªå‡½æ•°

        def f22(): Unit = {
            println("f222222")
        }

        // å¦‚æœå°†å‡½æ•°ä½œä¸ºè¿”å›å€¼è¿”å›ï¼Œéœ€è¦å¢åŠ è¿”å›å€¼ç±»å‹
        def f2():()=>Unit = {
            f22
        }

        // å¦‚æœæƒ³è¦
        def f222() = {
            f22 _
        }

        //f2()()
        //f222()()

        def f3( i : Int ) = {

            def f33( j : Int ) = {

                def f333( f:(Int, Int)=>Int ) = {
                    f(i, j)
                }

                f333 _
            }

            f33 _
        }

        def innerFunction(x:Int, y:Int): Int = {
            x * y
        }

        println(f3(10)(10)(innerFunction))
        // ä½¿ç”¨åŒ¿åå‡½æ•°ä¼ é€’å‚æ•°
        //println(f3(10)(10)((x:Int, y:Int)=>{x+y}))
        //println(f3(10)(10)((x, y)=>{x+y}))
        //println(f3(10)(10)(_*_))

        // å‡½æ•°æŸ¯é‡ŒåŒ–
        def f4(i:Int)(j:Int)(p:(Int,Int)=>Int): Int = {
            p(i, j)
        }

        // å‡½æ•°é—­åŒ…ï¼šå¦‚æœå‡½æ•°ä¸­ä½¿ç”¨å¤–éƒ¨çš„å˜é‡ï¼Œä¸ºäº†é˜²æ­¢å˜é‡æ•°æ®ä¸¢å¤±ï¼Œå°†å˜é‡åŒ…å«åˆ°å‡½æ•°çš„å†…éƒ¨ï¼Œå½¢æˆé—­åˆçš„æ•ˆæœï¼Œç§°ä¹‹ä¸ºé—­åŒ…ï¼Œå¯ä»¥æ”¹å˜å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ

        println(f4(5)(10)(_ - _))



    }
}
```

	å°†æ–¹æ³•ä½“å†…çš„å‡½æ•°ä½œä¸ºè¿”å›å€¼è¿”å›ï¼Œè€Œä¸æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼š

â‘ å¢åŠ è¿”å›å€¼ç±»å‹ä¸ºè¯¥å‡½æ•°

â‘¡å¦‚æœä¸æŒ‡å®šè¿”å›å€¼ç±»å‹ï¼Œåˆ™åœ¨å‡½æ•°åå¢åŠ "_"ç¬¦å·ï¼Œè¡¨ç¤ºä¸æ‰§è¡Œå‡½æ•°



val f2: (String, Double) => Int = (a: String, b : Double) => a.toInt + b.toIntçš„å«ä¹‰æ˜¯ï¼šå®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œè§„å®šå˜é‡çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ï¼›å°†ç­‰å·å³è¾¹çš„åŒ¿åå‡½æ•°èµ‹ç»™è¯¥å˜é‡ã€‚



scalaä¸­ä¸èƒ½çœç•¥è¿”å›å€¼ç±»å‹ã€‚å› ä¸ºè‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œæ¨æ–­ä¸å‡ºæ¥è‡ªå·±çš„è¿”å›å€¼ç±»å‹ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ ä¸Šè¿”å›å€¼ç±»å‹ã€‚



æ ˆæ»šåŠ¨å¼‚å¸¸ï¼ˆstackoverflowï¼‰ï¼šé€’å½’æ·±åº¦è¿‡å¤§ã€‚

æ ˆå†…å­˜æº¢å‡ºï¼šå¤šä¸ªçº¿ç¨‹å¹¶è¡Œæ—¶ä¼šå‡ºç°æ ˆå†…å­˜æº¢å‡ºï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ ˆå¯ä»¥åˆ†é…ã€‚

æ–¹æ³•åŒºæº¢å‡ºï¼šè™šæ‹Ÿæœºçš„1/64åˆ°1/4çš„å†…å­˜åˆ†é…ç»™æ–¹æ³•åŒºï¼Œå¦‚æœåŠ è½½çš„ç±»æ¨¡ç‰ˆè¿‡å¤šï¼ˆå¦‚Tomcatï¼‰é€ æˆæ–¹æ³•åŒºæº¢å‡ºã€‚

å †å†…å­˜æº¢å‡ºï¼šè¿›è¡ŒfullGCåè¿˜æ˜¯æ²¡æœ‰è¶³å¤Ÿçš„å †å†…å­˜ç”¨äºåˆ›å»ºå¯¹è±¡ï¼Œåˆ™å †å†…å­˜æº¢å‡ºã€‚



æ ˆä¸Šåˆ†é…ï¼šå°†å¯¹è±¡åˆ›å»ºåœ¨æ ˆä¸Šï¼Œå½“æ–¹æ³•è¢«å¼¹æ ˆæ—¶ï¼Œè¯¥å¯¹è±¡ä¹Ÿä¼šå¼¹æ ˆï¼Œå¯ä»¥æœ‰æ•ˆåˆ©ç”¨å†…å­˜ã€‚

é€ƒé€¸åˆ†æï¼šå¦‚æœåˆ›å»ºçš„å¯¹è±¡è¢«è¿”å›åˆ°å¤–éƒ¨çš„è°ƒç”¨å‡½æ•°ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡ä¸èƒ½è¢«å¼¹æ ˆï¼Œå³é€ƒé€¸å‡ºå»ã€‚é‚£ä¹ˆè™šæ‹Ÿæœºä¸ä¼šåœ¨æ ˆä¸Šåˆ›å»ºè¯¥å¯¹è±¡ï¼Œè€Œæ˜¯åœ¨å †ä¸­åˆ›å»ºã€‚



System.GCèƒ½ä¸»åŠ¨è°ƒç”¨jvmçš„GCæœºåˆ¶ï¼Œä½†æ˜¯ä¸ä¸€å®šæ‰§è¡Œï¼Œç”±GCçš„å†…éƒ¨é€»è¾‘å†³å®šã€‚å›æ”¶æ—¶ä¼šè°ƒç”¨å¯¹è±¡çš„finilizeæ–¹æ³•ï¼Œå¯ä»¥åœ¨æ–¹æ³•ä¸­å†³å®šæ˜¯å¦ç»§ç»­å›æ”¶è¯¥å¯¹è±¡ã€‚

G1åƒåœ¾å›æ”¶ç®—æ³•ã€CMSåƒåœ¾å›æ”¶ç®—æ³•ã€‚



```java
public class ReturnTest {
    public static void main(String[] args) {
        System.out.println(test());
    }

    private static int test() {
        int i = 0;
        try {
            return i++;
        }finally {
            return ++i;
        }
    }
}
```

	æ‰“å°ç»“æœä¸º2ã€‚returnä¼šå¼€ä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œå°†returnçš„å€¼å­˜å‚¨åœ¨è¯¥ä¸´æ—¶å˜é‡ä¸­ï¼›ç¬¬ä¸€ä¸ªreturnå°†0å­˜å‚¨åœ¨ä¸´æ—¶å˜é‡ä¸­ï¼Œiå˜ä¸º1ï¼›å†æ‰§è¡Œfinallyä¸­çš„returnè¯­å¥ï¼Œå°†++i=2å­˜å‚¨åˆ°ä¸´æ—¶å˜é‡ä¸­ï¼Œç„¶åè¿”å›ã€‚æ‰€ä»¥ç»“æœä¸º2ã€‚







åŒ…å  åŸŸåçš„åå†™+é¡¹ç›®å+æ¨¡å—+ç¨‹åºç±»å‹ï¼Œå› ä¸ºåœ¨å®é™…å¼€å‘ä¸­å¯¹åŒ…åè¦æ±‚ä¸ä¸¥æ ¼ï¼Œå¯ä»¥ç¼©å†™ã€‚

javaä¸­åŒ…çš„ä½œç”¨ï¼šâ‘ å¯¹ä¸åŒç±»çš„ç®¡ç†â‘¡é˜²æ­¢åŒååŒ…å†²çªâ‘¢åŒ…è®¿é—®æƒé™

scalaä¸­åŒ…çš„ä½œç”¨ï¼šâ‘ packageå…³é”®å­—å¯ä»¥å¤šæ¬¡å£°æ˜â‘¡scalaæºç åŒ…å’ŒåŒ…åæ²¡æœ‰ç›´æ¥çš„å…³ç³»â‘¢packageå¯ä»¥å£°æ˜ä½œç”¨åŸŸï¼Œä¸”å­åŒ…å¯ä»¥ç›´æ¥è®¿é—®çˆ¶åŒ…çš„ç±»ï¼Œä¸éœ€è¦å¯¼åŒ…â‘£scalaå°†åŒ…å½“æˆä¸€ä¸ªå¯¹è±¡ï¼Œå³åŒ…å¯¹è±¡ï¼Œå¯ä»¥åœ¨åŒ…å¯¹è±¡ä¸­åˆ›å»ºå˜é‡å’Œå‡½æ•°



nativeä¿®é¥°ç¬¦ï¼šè°ƒç”¨åº•å±‚çš„ä»£ç å®ç°åŠŸèƒ½ï¼Œæé«˜è¿è¡Œæ•ˆç‡ï¼Œè§£å†³jvmæ— æ³•æ“ä½œç¡¬ä»¶çš„å±€é™ã€‚



protectedè®¿é—®æƒé™

```
public class ProtectedClone {
    public static void main(String[] args) {
        AAA aaa = new AAA();

        aaa.clone();
    }
}

class AAA{
//    protected Object clone(){
//        return null;
//    }
}
```

	å¦‚æœä¸é‡å†™AAAä¸­çš„cloneæ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨ProtectedCloneç±»ä¸­æ— æ³•å¯¹cloneæ–¹æ³•è¿›è¡Œè°ƒç”¨ã€‚å› ä¸ºcloneæ–¹æ³•çš„**æä¾›è€…**ä¸ºå¯¹è±¡AAAçš„çˆ¶ç±»Objectï¼Œè€Œcloneçš„**è°ƒç”¨è€…**ä¸ºProtectedCloneç±»ï¼›AAAçš„çˆ¶ç±»ä¸ProtectedCloneçš„æ²¡æœ‰çˆ¶å­å…³ç³»ï¼Œæ‰€ä»¥ä¸èƒ½åœ¨ProtectedCloneç±»ä¸­è°ƒç”¨cloneæ–¹æ³•ï¼›è‹¥åœ¨AAAä¸­é‡å†™cloneæ–¹æ³•ï¼Œé‚£ä¹ˆåŠ¨æ€ç»‘å®šæœºåˆ¶ï¼ŒAAAå¯¹è±¡ä¼šè°ƒç”¨è‡ªå·±çš„cloneæ–¹æ³•ï¼Œè€ŒProtectedCloneå’ŒAAAåŒåŒ…ï¼Œæ‰€ä»¥ProtectedCloneå¯ä»¥è°ƒç”¨AAAçš„cloneæ–¹æ³•ã€‚





elè¡¨è¾¾å¼ é€šè¿‡åå°„è°ƒç”¨ç±»å±æ€§å’Œæ–¹æ³•



	javaä¸­ç”¨import å¯ä»¥â‘ å¯¼å…¥æŸä¸ªç±»â‘¡å¯¼å…¥åŒ…ä¸­æ‰€æœ‰çš„ç±»â‘¢å¯¼å…¥ç±»çš„é™æ€å±æ€§å’Œæ–¹æ³•ã€‚import static com.atguigu.bigdata.java.ConstBean.*å°±å¯ä»¥å¯¼å…¥ConstBeanç±»ä¸­çš„æ‰€æœ‰çš„é™æ€æ–¹æ³•ï¼Œç›´æ¥å†™æ–¹æ³•å³å¯ï¼Œä¸éœ€è¦å†™ç±»åã€‚

	scalaä¸­çš„breaksä¸­çš„breakableé™æ€æ–¹æ³•ï¼Œå¯ä»¥å¯¼å…¥è¯¥é™æ€æ–¹æ³•import scala.util.control.Breaks._ ï¼Œç„¶åç›´æ¥ç”¨è¯¥æ–¹æ³•ã€‚åœ¨scalaä¸­ç”¨ä¼´ç”Ÿå¯¹è±¡è®¿é—®æ—¶å¯ä»¥é€šè¿‡ç±»åç›´æ¥è®¿é—®æ–¹æ³•ï¼Œæ¨¡æ‹Ÿé™æ€è¯­æ³•ã€‚



	scalaèµ‹äºˆimportå…³é”®å­—æ›´å¤šåŠŸèƒ½ï¼šâ‘ importå…³é”®å­—å¯ä»¥åœ¨ä»»æ„åœ°æ–¹ä½¿ç”¨â‘¡å¯ä»¥å¯¼å…¥æŒ‡å®šåŒ…ä¸­çš„ç±»ï¼Œä½†æ˜¯java.langå’Œscalaï¼ˆpredefï¼‰ä¸­çš„ç±»ä¸éœ€è¦å¯¼å…¥ã€‚â‘¢å¯¼å…¥æŒ‡å®šåŒ…ä¸­æ‰€æœ‰çš„ç±»ã€‚åœ¨scalaä¸­ä½¿ç”¨_ä»£æ›¿javaä¸­çš„*ã€‚ä½†æ˜¯åœ¨ç¼–è¯‘ä¸­ï¼Œåªä¼šåŠ è½½ç”¨åˆ°çš„ç±»ã€‚â‘£å¯¼å…¥æŒ‡å®šåŒ…ä¸­çš„å¤šä¸ªç±»ï¼Œå¯ä»¥é‡‡ç”¨å¤§æ‹¬å·ï¼Œå£°æ˜åœ¨ä¸€è¡Œã€‚â‘¤scalaä¸­çš„importå¯ä»¥å¯¼åŒ…ï¼Œå¦‚æœæ˜¯åŒ…å¯¹è±¡ï¼Œå¯ä»¥è®¿é—®å…¶å±æ€§å’Œæ–¹æ³•ã€‚â‘¥scalaå¯ä»¥åœ¨å¯¼ç±»çš„æ—¶å€™éšè—æŒ‡å®šçš„ç±» java.util.{HashMap=> _ ,_ _}å°†HashMapç±»éšè—ã€‚â‘¦scalaå¯ä»¥ç»™å¯¼å…¥çš„ç±»èµ·åˆ«åï¼Œä¸¤ç§æ–¹å¼ä¸ºï¼šjava.util.{HashMap=>JacaHashMap, _}ï¼Œtype hm = java.util.HashMapâ‘§scalaä¸­åŒ…çš„æ¦‚å¿µæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä½†è¿™æ ·å¯èƒ½ä¼šå‡ºç°å†²çªã€‚ä¸€èˆ¬é‡‡ç”¨ç»å¯¹è·¯å¾„çš„æ–¹å¼æ¥è§£å†³ã€‚_      **_ root_**.java.util.HashMap



scalaåŒ…ä¸­çš„predefä¼´ç”Ÿå¯¹è±¡ï¼Œåœ¨ä½¿ç”¨æ—¶å¯ä»¥çœç•¥ï¼ŒåŒ…æ‹¬printlnã€classOfç­‰ã€‚

 = classOf[User]	classOf[User]  è·å–å½“å‰Userçš„ç±»çš„ä¿¡æ¯ï¼Œè·å–æ–¹æ³•åŒºçš„å†…å­˜ã€‚ 9:15ï¼Ÿï¼Ÿï¼Ÿ



D:\MyWork\Program\jdk-8u202\jre\ä¸‹çš„libå’Œclassesæ–‡ä»¶å¤¹		å¼•å¯¼ç±»åŠ è½½å™¨ï¼ŒåŠ è½½æ ¸å¿ƒç±»åº“

D:\MyWork\Program\jdk-8u202\jre\libxt\ä¸‹çš„jaråŒ…å’Œclassesæ–‡ä»¶å¤¹	æ‰©å±•ç±»åŠ è½½å™¨ï¼ŒåŠ è½½æ‰©å±•ç±»åº“

classpath	åº”ç”¨ç±»åŠ è½½å™¨ï¼ŒåŠ è½½classpathä¸‹çš„ç±»

	åŒäº²å§”æ´¾æœºåˆ¶ï¼šåŠ è½½ç±»æ—¶ï¼Œä¼šé€çº§å§”æ´¾ä¸Šçº§åŠ è½½å™¨ï¼ŒåŠ è½½å…¶è·¯å¾„ä¸‹çš„ç±»ï¼Œå¦‚æœå¯åŠ¨ç±»åŠ è½½å™¨æ‰¾åˆ°ç±»åˆ™ç›´æ¥åŠ è½½ï¼Œæ²¡æœ‰æ‰¾åˆ°ç±»ï¼Œä¼šè¿”å›nullï¼›æ‰©å±•ç±»åŠ è½½å™¨å†åŠ è½½è·¯å¾„ä¸‹çš„ç±»ï¼Œæ‰¾åˆ°ç›´æ¥åŠ è½½ç±»ï¼Œå¦åˆ™è¿”å›å¼‚å¸¸ï¼›åº”ç”¨ç±»åŠ è½½å™¨å†æŸ¥æ‰¾è·¯å¾„ä¸‹çš„ç±»ï¼Œæ‰¾åˆ°åˆ™ç›´æ¥åŠ è½½ï¼Œå¦åˆ™è¿”å›classnotfoundexceptionã€‚ä¸ºä»€ä¹ˆè·å–å¯åŠ¨ç±»åŠ è½½å™¨ä¼šè¿”å›nullï¼Œä¸ºä»€ä¹ˆå¯åŠ¨ç±»åŠ è½½å™¨è¿”å›nullè€Œä¸æ˜¯å¼‚å¸¸ï¼Ÿå› ä¸ºå¯åŠ¨ç±»åŠ è½½å™¨ä¸æ˜¯javaå®ç°çš„ï¼Œæ— æ³•è¿”å›å¼‚å¸¸ï¼Œè€Œæ‰©å±•ç±»åŠ è½½å™¨æ˜¯javaå®ç°çš„ã€‚



	scalaä¸­çš„è®¿é—®æƒé™å’Œjavaçš„æœ‰åŒºåˆ«â‘ protectedæƒé™åªèƒ½ç”±åŒç±»æˆ–å­ç±»è®¿é—®ï¼ŒåŒåŒ…ä¸èƒ½è®¿é—®â‘¡ä¸åŠ è®¿é—®æƒé™æ—¶ï¼Œé»˜è®¤ä¸ºpublicã€‚â‘¢scalaä¸­æ²¡æœ‰åŒ…è®¿é—®æƒé™çš„æ¦‚å¿µã€‚**private[åŒ…å]** ï¼Œå³åŒ…å†…ç§æœ‰ï¼ŒæŒ‡æ˜èƒ½è®¿é—®çš„åŒ…çš„åç§°ï¼ˆå­åŒ…ä¹Ÿèƒ½è®¿é—®ï¼‰ã€‚

	ç±»çš„æ— æƒé™ä¿®é¥°çš„å±æ€§åœ¨ç¼–è¯‘åå…¨éƒ½æ˜¯privateçš„ï¼Œä½†åŒæ—¶æä¾›ä¸¤ä¸ªå…¬å…±çš„æ–¹æ³•ï¼ˆset,getï¼‰ï¼Œç”¨äºè®¿é—®å’Œä¿®æ”¹è¿™ä¸ªå±æ€§ã€‚ï¼ˆç±»ä¼¼elè¡¨è¾¾å¼ï¼Œé€šè¿‡åå°„è·å–å¯¹è±¡çš„æ–¹æ³•ï¼Œé€šè¿‡æ–¹æ³•è®¿é—®å¯¹åº”çš„å±æ€§ã€‚ï¼‰ä½†æ˜¯æ¡†æ¶ä¸­æœ‰å±æ€§å¯¹åº”çš„æ–¹æ³•çš„åç§°è§„èŒƒï¼Œæ‰€ä»¥scalaæä¾›äº†**@BeanPropertyæ³¨é‡Š**ï¼Œæ¥é¢å¤–ç”Ÿæˆä¸€å¯¹æ ‡å‡†åç§°çš„getxxxå’Œsetxxxæ–¹æ³•ï¼Œä»¥åŒ¹é…javaå¼€å‘è§„èŒƒã€‚	privateä¿®é¥°çš„å±æ€§ï¼Œç¼–è¯‘åç”Ÿæˆprivateä¿®é¥°çš„getã€setæ–¹æ³•ï¼›valä¿®é¥°çš„å±æ€§ï¼Œç¼–è¯‘ååªç”Ÿæˆgetæ–¹æ³•ã€‚

	ç”±äºåœ¨ä¼´ç”Ÿå¯¹è±¡ä¸­å®šä¹‰çš„å±æ€§éƒ½ä¼šåœ¨ç¼–è¯‘æ—¶ç”Ÿæˆsetå’Œgetæ–¹æ³•ï¼Œæ‰€ä»¥åœ¨å†™æ–¹æ³•æ—¶éœ€è¦æ³¨æ„ä¸èƒ½å’Œè‡ªåŠ¨ç”Ÿæˆçš„æ–¹æ³•é‡å¤ï¼Œå¯ä»¥æ”¹å˜å‚æ•°å½¢æˆé‡è½½ã€‚



scalaä¹Ÿå¯ä»¥ç»™å±æ€§é»˜è®¤åˆå§‹åŒ–ï¼Œç”¨"_"èµ‹å€¼ã€‚

 **_  çš„ç”¨æ³•ï¼šâ‘ åŒ…ä¸­æ‰€æœ‰ç±»â‘¡ç³»ç»Ÿé»˜è®¤åˆå§‹åŒ–â‘¢å°†å‡½æ•°ä¸æ‰§è¡Œè¿”å›â‘£å‚æ•°å ä½ç¬¦â‘¤éšè—å¯¼å…¥çš„ç±»â‘¥æ ‡è¯†ç¬¦â‘¦ç»å¯¹è·¯å¾„**â‘§case _ ä¸ç®¡ä»€ä¹ˆå€¼éƒ½åŒ¹é…â‘¨case _:BigInt =>...  å½“åé¢ä¸ç”¨è¯¥å˜é‡ï¼Œä¸å…³å¿ƒå˜é‡æ—¶ï¼Œå¯ä»¥ç”¨ _ ä»£æ›¿ã€‚

**[] çš„ç”¨æ³•ï¼šâ‘ protected[åŒ…å]â‘¡æ³›å‹ classOf[] , inInstanceOf[] asInstanceOf[] ï¼ŒArray[]â‘¢å®ç°ç‰¹è´¨ä¸­æ–¹æ³•æ—¶æŒ‡å‘ç±»  super[Operate].insert( )**



scalaå¸¸ç”¨æ–¹æ³•ï¼š**isInstanceOf[ ]**åˆ¤æ–­ç±»å‹ï¼Œæ–¹æ‹¬å·å†…æ˜¯æ³›å‹ï¼Œå®šä¹‰å‡½æ•°æ—¶æ²¡å†™å°æ‹¬å·ï¼Œæ­¤å¤„ä¹Ÿä¸å†™å°æ‹¬å· 	  			**asInstanceOf[ ]**è½¬æ¢ç±»å‹

			classOf[User]  è·å–å½“å‰Userçš„ç±»çš„ä¿¡æ¯ï¼Œè·å–æ–¹æ³•åŒºçš„å†…å­˜ã€‚



æ„é€ æ–¹æ³•ï¼š

	1.applyï¼š

	Rangeç­‰å¯¹è±¡ï¼Œå¯ä»¥ä¸ä½¿ç”¨newå…³é”®å­—æ„å»ºï¼šä¼šè°ƒç”¨ä¼´ç”Ÿå¯¹è±¡çš„ç‰¹æ®Šæ–¹æ³•æ„å»ºå¯¹è±¡ã€‚å¯ä»¥åœ¨ä¼´ç”Ÿå¯¹è±¡ä¸­å®šä¹‰applyæ–¹æ³•ï¼Œdef apply():Emp  = new Emp() ã€‚å¦‚æœç›´æ¥å†™ç±»åï¼Œåˆ™ä¼šç¼–è¯‘ä¸º  **ç±»å.applyï¼ˆï¼‰**æ¥è°ƒç”¨è¯¥æ„é€ æ–¹æ³•è¿”å›ç±»å¯¹è±¡ã€‚å¦‚Range(1,10,2)ç›´æ¥è¿”å›è¯¥æ•°ç»„å¯¹è±¡ï¼Œå› ä¸ºç¼–è¯‘æ—¶ä¼šè°ƒç”¨applyæ–¹æ³•è¿”å›new Rangeï¼ˆ1,10,2ï¼‰å¯¹è±¡ã€‚å¥½å¤„æ˜¯â‘ å¢åŠ äº†æ•´ä½“æ€§â‘¡ç§æœ‰åŒ–æ„é€ æ–¹æ³•ï¼Œé€šè¿‡è°ƒç”¨applyè·å–å¯¹è±¡ã€‚å¯ä»¥ç”¨äºå•ä¾‹æ¨¡å¼ç­‰ã€‚â‘¢applyä¸ä¸€å®šè¦è¿”å›æœ¬ç±»çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯å…¶ä»–ç±»çš„å¯¹è±¡ã€‚

	ç”¨newè°ƒç”¨çš„æ˜¯æ„é€ æ–¹æ³•ï¼Œä¸ç”¨newåˆ›å»ºå¯¹è±¡åˆ™è°ƒç”¨applyæ–¹æ³•ã€‚

	2.æ„é€ å‡½æ•°ï¼š

	scalaè¯­è¨€ä¸‡ç‰©çš†å¯¹è±¡ï¼Œä¸‡ç‰©çš†å‡½æ•°ã€‚æ‰€ä»¥classç±»ä¹Ÿæ˜¯å‡½æ•°ï¼Œå› ä¸ºç±»çš„åé¢ä½¿ç”¨å°æ‹¬å·å£°æ˜çš„å‚æ•°åˆ—è¡¨ï¼Œå…¶å®å°±æ˜¯æ„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨ã€‚

â‘ æ„é€ å‡½æ•°å¯ä»¥æœ‰å‚æ•°â‘¡è¾…æ„é€ å‡½æ•°çš„åç§°æœ‰ç‰¹æ®Šè¦æ±‚def thisï¼ˆï¼‰ï½›ï½â‘¢scalaä¸­æ„é€ å‡½æ•°åˆ†ä¸ºä¸¤å¤§ç±»ï¼šä¸»æ„é€ å‡½æ•°&è¾…æ„é€ å‡½æ•°ï¼ˆä½¿ç”¨**this**å£°æ˜æ„é€ å‡½æ•°ï¼‰â‘£è¾…åŠ©æ„é€ å‡½æ•°ä¸€å®šè¦ç›´æ¥æˆ–é—´æ¥çš„è°ƒç”¨ä¸»æ„é€ å‡½æ•°ï¼Œå› ä¸ºç±»çš„ä¸»ä½“æ˜¯ç”±ä¸»æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–çš„ï¼ˆæ²¡æœ‰é»˜è®¤æ— å‚æ„é€ å™¨çš„è¯´æ³•ï¼‰ã€‚â‘¤è¾…åŠ©æ„é€ æ–¹æ³•åœ¨è°ƒç”¨å…¶ä»–æ„é€ æ–¹æ³•æ—¶ï¼Œå¿…é¡»**ä¿è¯å·²ç»å£°æ˜è¿‡å…¶ä»–æ„é€ æ–¹æ³•**ã€‚



	æ„é€ æ–¹æ³•ç§æœ‰åŒ–ï¼šclass User private(){  },ç±»æ„é€ å™¨çš„æ‹¬å·å‰åŠ privateï¼Œå¯ä»¥åœ¨ä¼´ç”Ÿå¯¹è±¡ä¸­æ·»åŠ applyæ–¹æ³•ï¼Œ**ä¼´ç”Ÿå¯¹è±¡å¯ä»¥è®¿é—®ä¼´ç”Ÿç±»ä¸­çš„ç§æœ‰å±æ€§å’Œæ–¹æ³•ã€‚**åœ¨å¤–é¢è°ƒç”¨applyè·å–ä¼´ç”Ÿç±»å¯¹è±¡ã€‚



	å¯ä»¥å°†æ„é€ å‚æ•°ä½œä¸ºç±»çš„å±æ€§ï¼Œä½†æ˜¯éœ€è¦åŠ ä¸Švarã€‚å¦‚class Userï¼ˆ**var/val**  username : Stringï¼‰ï½›  ï½ï¼Œå°†ä¼ å…¥çš„å‚æ•°usernameä½œä¸ºUserç±»çš„å±æ€§ã€‚



	æšä¸¾ç±»object Color extends Enumeration 9:33

	ä¼´ç”Ÿå¯¹è±¡ä¸­çš„è¯­å¥éƒ½ä¼šæ‰§è¡Œï¼Œå› ä¸ºæ„å»ºå¯¹è±¡æ—¶ä¼šè°ƒç”¨å‡½æ•°ä½“ã€‚object Test extends App 9:36



ç±»çš„ç»§æ‰¿ï¼š

```scala 
package com.atguigu.bigdata.scala.chapter01

object Scala1 {
  def main(args: Array[String]): Unit = {

    new Student("zhangsan");
  }
}

class Person(name : String){
  println(name)
}
class Student(name : String) extends Person(name){

}
```

	å¯ä»¥åœ¨ç»§æ‰¿çš„ç±»çš„åé¢ç›´æ¥è·Ÿå‚æ•°ï¼Œè¿›å…¥å­ç±»æ„é€ å™¨åå°±ä¼šå…ˆè°ƒç”¨çˆ¶ç±»æ„é€ å™¨ã€‚



æŠ½è±¡ç±»ï¼š

	abstract class Parent{  } å°±æ˜¯æŠ½è±¡ç±»ï¼ŒæŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ï¼šåªæœ‰å£°æ˜ï¼Œæ²¡æœ‰å®ç° def  testï¼ˆï¼‰ï¼šUnit

	scalaä¸­ç±»åå‰åŠ abstractå…³é”®å­—ä¸ºæŠ½è±¡ç±»ï¼›scalaä¸­åªæœ‰å£°æ˜æ²¡æœ‰å®ç°çš„æ–¹æ³•ä¸ºæŠ½è±¡æ–¹æ³•ã€‚ç»§æ‰¿æŠ½è±¡ç±»éœ€è¦å®ç°æŠ½è±¡æ–¹æ³•æ‰èƒ½å˜æˆå®ä½“ç±»ï¼Œæ‰èƒ½æ„é€ å¯¹è±¡ã€‚é‡å†™æ–¹æ³•éœ€è¦æ·»åŠ overrideå…³é”®å­—ï¼Œä½†æ˜¯é‡å†™æŠ½è±¡æ–¹æ³•ä¸éœ€è¦overrideå…³é”®å­—ã€‚

	scalaä¸­çš„å±æ€§ä¹Ÿå¯ä»¥æ˜¯æŠ½è±¡çš„ã€‚ä¸€ä¸ªç±»ä¸­æœ‰æŠ½è±¡å±æ€§ï¼ˆå£°æ˜å±æ€§ä½†æœªåˆå§‹åŒ–ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¸ºæŠ½è±¡ç±»ï¼ŒæŠ½è±¡å±æ€§ç¼–è¯‘æ—¶ä¸ä¼šç”Ÿæˆå±æ€§ï¼Œè€Œæ˜¯æä¾›äº†ä¸¤ä¸ªæŠ½è±¡çš„æ–¹æ³•ã€‚ç»§æ‰¿æŠ½è±¡ç±»éœ€è¦å°†æŠ½è±¡å±æ€§è¡¥å……å®Œæ•´ï¼Œå…¶å®ç­‰åŒäºé‡å†™å±æ€§çš„setæ–¹æ³•å’Œgetæ–¹æ³•ã€‚	å­ç±»**é‡å†™çˆ¶ç±»å®Œæ•´çš„å±æ€§**ï¼Œä½†æ˜¯éœ€è¦**valä¿®é¥°**çš„ä¸å¯å˜çš„å®Œæ•´å±æ€§æ‰èƒ½é‡å†™ï¼Œä¹Ÿéœ€è¦**æ·»åŠ override**å…³é”®å­—ã€‚

åŸç†ï¼šä¿®æ”¹å’Œè¯»å–ageéƒ½æ˜¯è°ƒç”¨åº•å±‚çš„æ–¹æ³•ï¼Œå› ä¸ºå­ç±»ä¸­ä¹Ÿå­˜åœ¨getå’Œsetæ–¹æ³•ï¼Œ æ‰€ä»¥ä¼šè°ƒç”¨å­ç±»çš„getå’Œsetæ–¹æ³•ï¼Œç”±äºåŠ¨æ€ç»‘å®šæœºåˆ¶ï¼Œæœ€ç»ˆä¿®æ”¹å’Œè¯»å–çš„æ˜¯å­ç±»ä¸­çš„é‡å†™çš„å±æ€§ã€‚å±€éƒ¨å˜é‡åªæœ‰åœ¨å…¶ä½œç”¨äºå†…æ‰èƒ½ä¿®æ”¹ï¼Œä½†æ˜¯æœ€ç»ˆä¿®æ”¹çš„æ˜¯å´æ˜¯å­ç±»çš„å±æ€§ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…è¿™ç§æ­§ä¹‰ï¼Œå°†å±æ€§ç”¨valä¿®é¥°ï¼Œå¦‚æœæœ‰ä¿®æ”¹å±æ€§çš„æ“ä½œï¼Œåœ¨ç¼–è¯‘æ£€æŸ¥æ—¶ç›´æ¥æŠ¥é”™ã€‚

```
package com.atguigu.bigdata.scala.chapter01

object Scala1 {
  def main(args: Array[String]): Unit = {

    val stu = new Student("zhangsan")
    stu.test()
  }
}

class Person(name : String){
  var age : Int = 20

  def test():Unit = {
    age = 100
    println(age)
  }
}
class Student(name : String) extends Person(name){
  override var age : Int = 30
}
```





ç‰¹è´¨ï¼ˆç±»ä¼¼AOPç¼–ç¨‹ï¼Œå°†ç›¸åŒçš„ï¼Ÿï¼Ÿ9:39  ï¼Ÿï¼Ÿï¼‰ï¼š

	ocpå¼€å‘åŸåˆ™ï¼šå³ï¼ˆOpen Closed Principleï¼‰å¼€é—­åŸåˆ™ï¼Œæ‰©å±•åŠŸèƒ½ä¸èƒ½ä¿®æ”¹åŸæœ‰çš„ä»£ç ã€‚

	é¢å‘æ¥å£ç¼–ç¨‹ä½“ç°åœ¨  public static void sum(List list){   }ï¼Œå¯ä»¥é€šè¿‡éœ€æ±‚ä¼ å…¥ä¸åŒç±»å‹çš„é›†åˆã€‚



	16:20 AAA.class.getInterfaces().length åˆ©ç”¨åå°„æŸ¥çœ‹æ˜¯å¦å®ç°æ¥å£



	javaä¸­çš„æ¥å£éš¾ä»¥ç†è§£ï¼Œæ‰€ä»¥scalaæ²¡æœ‰æ¥å£çš„æ¦‚å¿µå’Œå…³é”®å­—ã€‚scalaå°†å¤šä¸ªç±»å…·æœ‰çš„ç›¸åŒçš„ç‰¹å¾ä»å¯¹è±¡ä¸­å‰¥ç¦»å‡ºæ¥ï¼Œå½¢æˆä¸€ä¸ªç‰¹æ®Šç»“æ„ï¼Œç§°ä¹‹ä¸ºç‰¹è´¨ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡ç¬¦åˆæŸä¸ªç‰¹å¾ï¼ˆç‰¹è´¨ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥å°†è¿™ä¸ªç‰¹å¾â€œæ··å…¥â€åˆ°å¯¹è±¡ä¸­ã€‚	å¦‚æœæœ‰çˆ¶ç±»ï¼Œextendsç»§æ‰¿çˆ¶ç±»ï¼Œç”¨withæ¥æ··å…¥ç‰¹è´¨ã€‚ç‰¹è´¨ä¸­å¯ä»¥ç”±æŠ½è±¡çš„å±æ€§å’Œæ–¹æ³•ã€‚

	åŠ¨æ€æ··å…¥ï¼šåˆ›å»ºå¯¹è±¡çš„åŒæ—¶æ··å…¥ç‰¹è´¨ã€‚åœ¨åé¢è·Ÿwith + ç‰¹å¾ï¼Œé‚£ä¹ˆå¯¹è±¡ä¸­å°±å¸¦æœ‰ç‰¹è´¨ï¼Œéµå¾ªäº†OCPå¼€å‘åŸåˆ™ï¼ŒåŒæ—¶æ‰©å±•äº†åŠŸèƒ½ï¼Œä¸ä¼šå¯¹ç±»æœ‰å½±å“ã€‚

	

å¤šç‰¹è´¨çš„åˆå§‹åŒ–å’Œæ‰§è¡Œç‰¹è´¨ä¸­çš„åŠŸèƒ½ï¼š

	ç‰¹è´¨å¯ä»¥æ··å…¥å…¶ä»–ç‰¹è´¨ï¼šå¦‚æœç±»å­˜åœ¨çˆ¶ç±»ï¼Œä¼šé¦–å…ˆåˆå§‹åŒ–çˆ¶ç±»ï¼›å¦‚æœç±»å­˜åœ¨ç‰¹è´¨ï¼Œ ä¼šé¦–å…ˆåˆå§‹åŒ–ç‰¹è´¨ï¼Œåœ¨è¿›è¡Œç±»çš„åˆå§‹åŒ–ï¼›çˆ¶ç±»åˆå§‹åŒ–åï¼Œå¦‚æœç±»å­˜åœ¨å¤šä¸ªç‰¹è´¨ï¼Œä¼šä»å·¦åˆ°å³ä¸€æ¬¡åˆå§‹åŒ–ã€‚**ç‰¹è´¨åªä¼šåˆå§‹åŒ–ä¸€æ¬¡**ï¼Œå¦‚æœä¹‹å‰å·²ç»åˆå§‹åŒ–äº†ï¼Œä¸ä¼šå†æ¬¡åˆå§‹åŒ–ã€‚

	åˆå§‹åŒ–é¡ºåºä»å·¦åˆ°å³ï¼Œæ‰§è¡Œç‰¹è´¨ä¸­çš„åŠŸèƒ½æ—¶ï¼Œæ˜¯ä»å³å‘å·¦æ‰§è¡Œã€‚å½“å‰superå…³é”®å­—ä¸æ˜¯çˆ¶ç‰¹è´¨çš„æ¦‚å¿µï¼Œè€Œæ˜¯ä¸Šä¸€ä¸ªç‰¹è´¨çš„æ„æ€ï¼ˆå¦‚æœæœ€å³è¾¹çš„ç‰¹è´¨æ²¡æœ‰superï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å…¨éƒ½ä¸ä¼šè°ƒç”¨ï¼Ÿï¼Ÿæ˜¯ï¼‰ã€‚å¦‚æœä¸€å®šè¦superæŒ‡å‘ä¸Šä¸€çº§è€Œä¸æ˜¯ä¸Šä¸€ä¸ªï¼Œéœ€è¦ç‰¹æ®Šçš„æ–¹å¼æŒ‡å®š super[Operate].insert( ) ã€‚

```scala
package com.atguigu.bigdata.scala.chapter01

object Scala2 {
  def main(args: Array[String]): Unit = {

    var people = new People
    people.insert()
  }
}
trait Operate {
  def insert (): Unit = {
    println("æ’å…¥æ•°æ®")
  }
}
trait DB extends Operate {
  override def insert(): Unit = {
    println("å‘æ•°æ®åº“")
    super.insert()
  }
}
trait File extends Operate {
  override def insert(): Unit = {
    println("å‘æ–‡ä»¶ä¸­")
    super.insert()
  }
}
class People extends DB with File {

}

è¾“å‡ºç»“æœï¼š
    å‘æ–‡ä»¶ä¸­
    å‘æ•°æ®åº“
    æ’å…¥æ•°æ®
```



9:45 	thisï¼šException => 	è§„å®šçº¦æŸæ¡ä»¶ï¼Œé‚£ä¹ˆæ·»åŠ çº¦æŸçš„æ–¹æ³•ä¸­å°±å¯ä»¥ä½¿ç”¨çº¦æŸç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚ä½†æ˜¯ç»§æ‰¿è¯¥ç‰¹è´¨çš„ç±»ä¹Ÿæœ‰è¦æ±‚ã€‚

```scala
object Excep {
  def main(args: Array[String]): Unit = {
  }
}
class Test extends Exception with MyTrait{	//å› ä¸ºçº¦æŸæ˜¯å¼‚å¸¸ï¼Œæ‰€ä»¥åªèƒ½å¼‚å¸¸ç±»æ‰èƒ½ç»§æ‰¿
  
}

trait MyTrait{
  //çº¦æŸï¼š
  this:Exception=>
  def test(){
    println(getMessage())
  }
}
```



å’Œscalaä¸­çš„predefä¼´ç”Ÿå¯¹è±¡ç±»ä¼¼ï¼Œwindow.document.getElementById() ï¼Œwindow.alert()åœ¨çª—å£ä¸­æ—¶ï¼Œwindowå¯ä»¥çœç•¥ã€‚

AOPç¼–ç¨‹ï¼šå°†ä¸šåŠ¡ä¸­çš„ç›¸åŒçš„åŠŸèƒ½å‰¥ç¦»å‡ºæ¥ï¼Œä»¥æ¨ªå‘çš„æ–¹å¼äº¤å‰çš„åº”ç”¨åˆ°ä¸šåŠ¡ä¸­çš„ç¼–ç¨‹æ–¹å¼ã€‚ä¸ç‰¹è´¨ç›¸ä¼¼ã€‚



éšå¼è½¬æ¢ï¼ˆç±»å‹è½¬æ¢ï¼‰ï¼š

```scala
å€¼çš„ç±»å‹è½¬æ¢
object Implicit {
  def main(args: Array[String]): Unit = {
    implicit def transform(d:Double):Int={
      d.toInt
    }
    var i : Int = 2.0
    println(i)
  }
}
ä¼´ç”Ÿå¯¹è±¡åç¼–è¯‘æºç ï¼š
public final class Implicit$
{
  public static final  MODULE$ = new ();

  public void main(String[] args)
  {
    int i = transform$1(2.0D);				//äºŒæ¬¡ç¼–è¯‘æ—¶ä¼šè°ƒç”¨éšå¼è½¬æ¢
    Predef..MODULE$.println(BoxesRunTime.boxToInteger(i));
  }

  private static final int transform$1(double d)
  {
    return (int)d;
  }
}

ç±»å¯¹è±¡çš„éšå¼è½¬æ¢æ–¹æ³•
object Implicit {
  def main(args: Array[String]): Unit = {
    implicit def mysqlToDB(mysql: MySQL): DB = {
      new DB
    }
    val mysql = new MySQL
    mysql.insert()
    mysql.delete
  }
}
class MySQL {
  def insert(): Unit = {
    println("insert")
  }
}
class DB {
  def delete: Unit = {
    println("delete")
  }
}
éšå¼ç±»è½¬æ¢
object Implicit {
  def main(args: Array[String]): Unit = {
    val mysql = new MySQL
    mysql.insert
    mysql.delete
  }
  class MySQL{
    def insert: Unit ={
      println("insert..")
    }
  }
  implicit class DB(mysql:MySQL){ //åœ¨éœ€è¦è½¬æ¢çš„ç±»å‰åŠ implicitï¼ŒåŒæ—¶åŠ ä¸Šéœ€è¦è½¬åŒ–çš„å¯¹è±¡ã€‚é‚£ä¹ˆåœ¨æŒ‡å®š		å¯¹è±¡è°ƒç”¨è¯¥ç±»æ–¹æ³•æ—¶ä¼šè½¬æ¢ä¸ºè¯¥ç±»å¯¹è±¡ã€‚éšå¼ç±»ä¸èƒ½æ˜¯é¡¶çº§çš„ï¼Œåªèƒ½ä»ä½œç”¨åŸŸå’Œç»§æ‰¿çš„ç±»ã€ç‰¹è´¨ã€ä¼´ç”Ÿå¯¹è±¡ä¸­æŸ¥æ‰¾
    def delete: Unit ={
      println("delete..")
    }
  }
}

éšå¼å‚æ•°
object Implicit
  def main(args: Array[String]): Unit = {
    implicit var name = "Jack"
    def hello(implicit name:String = "Tom"): Unit ={	//äº‹å…ˆåŠ ä¸Šimplicitå…³é”®å­—ï¼Œåç»­è¦æ”¹é»˜è®¤														å‚æ•°ï¼Œåªéœ€è¦åœ¨åŠ ä¸€ä¸ªéšå¼å˜é‡å³å¯
      println(name + " hello")
    }
    hello
  }
}
```

	å¼•ç”¨ç±»å‹å¼ºè½¬çš„ç±»éœ€è¦æœ‰å®ç°æˆ–ç»§æ‰¿å…³ç³»ï¼Œæ‰€ä»¥scalaä¸­ç”¨éšå¼è½¬æ¢ã€‚å¦‚predefä¸­æœ‰å°†stringç±»å‹è½¬ä¸ºStringOpsç±»å‹çš„éšå¼è½¬æ¢æ–¹æ³•ï¼Œä½¿å…¶èƒ½ä½¿ç”¨StringOpsçš„ç±»æ–¹æ³•ã€‚

	scalaç¼–è¯‘å™¨åœ¨å‘ç°ç¼–è¯‘é”™è¯¯æ—¶ï¼Œå¯ä»¥å†æ¬¡å°è¯•ä½¿ç”¨è½¬æ¢è§„åˆ™é‡æ–°ç¼–è¯‘ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½ç¼–è¯‘é€šè¿‡ã€‚**implicit** def transform(d:Double) : Int = {d.toInt} åˆ¶å®šäº†ç±»å‹è½¬æ¢è§„åˆ™ï¼Œåœ¨**äºŒæ¬¡ç¼–è¯‘**åèƒ½è‡ªåŠ¨è°ƒç”¨è¯¥è½¬æ¢æ–¹æ³•ã€‚

	éšå¼è½¬æ¢å¯ä»¥æ‰©å±•åŠŸèƒ½ï¼Œä½†æ˜¯**åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°**ï¼ˆå¯ä»¥é€šè¿‡å®ç°ç§‘é‡ŒåŒ–ï¼‰ï¼Œä¸èƒ½æœ‰ä¸¤ä¸ªç›¸åŒçš„éšå¼è½¬æ¢ã€‚

	éšå¼å˜é‡ï¼šåœ¨OCPåŸåˆ™ä¸‹æ”¹å˜å‡½æ•°çš„é»˜è®¤å‚æ•°èµ‹å€¼ï¼Œå°†éšå¼å±æ€§çš„å€¼ä½œä¸ºé»˜è®¤å‚æ•°ã€‚éšå¼å˜é‡å€¼å¯ä»¥è¦†ç›–é»˜è®¤å‚æ•°ï¼ˆåœ¨å‚æ•°åˆ—è¡¨ä¸­æ·»åŠ å…³é”®å­—implicitï¼‰ï¼Œå’Œéšå¼è½¬åŒ–æ–¹æ³•ä¸€æ ·ä¹Ÿä¸èƒ½æœ‰ä¸¤ä¸ªç›¸åŒçš„éšå¼å±æ€§ã€‚

	éšå¼è½¬æ¢çš„å±æ€§ã€æ–¹æ³•å’Œç±»åº”ä»å½“å‰å¯¹è±¡çš„ä½œç”¨åŸŸæ‰¾ï¼Œæ²¡æ‰¾åˆ°åˆ™ä»çˆ¶ç±»å’Œç‰¹è´¨å’Œä¼´ç”Ÿå¯¹è±¡ä¸­æ‰¾ã€‚





## é›†åˆï¼š

	scalaé›†åˆåˆ†ä¸ºä¸¤å¤§ç±»ï¼šå¯å˜é›†åˆå’Œä¸å¯å˜é›†åˆï¼ˆåº•å±‚å­˜å‚¨æ•°ç»„ä¸å¯å˜ï¼‰ï¼Œé»˜è®¤é‡‡ç”¨ä¸å¯å˜é›†åˆã€‚é›†åˆæœ‰ä¸‰å¤§ç±»ï¼Œåºåˆ—seqã€é›†setå’Œæ˜ å°„map

	scalaé›†åˆçš„ç±»å‹æ ¹æ®åŒ…æ¥ç¡®å®šï¼šscala.collection.mutableå’Œscala.collection.immutable

11:39  scalaçš„predefæ˜¯è‡ªåŠ¨å¯¼å…¥çš„ï¼Œåœ¨predefä¸­å°†Arrayç±»çš„å…¨é™å®šç±»åè¿›è¡Œé‡å‘½åä¸ºArrayï¼Œæ‰€ä»¥ç›´æ¥å†™Arrayç›¸å½“äºArrayçš„å…¨é™å®šç±»åã€‚ç±»ä¼¼çš„printlnæ–¹æ³•åœ¨predefä¸­å®šä¹‰ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨printlnå³å¯ã€‚

	

### seq:ï¼ˆArrayï¼ŒArrayBufferï¼ŒListï¼ŒListBufferï¼‰

Arrayæ˜¯ä¸å¯å˜æ•°ç»„ï¼ŒArrayBufferæ˜¯å¯å˜æ•°ç»„ï¼š

	åˆ›å»ºæ•°ç»„æ—¶éœ€è¦æ·»åŠ æ•°ç»„ä¸­å†…å®¹çš„æ³›å‹ï¼›å¦‚æœä¸åŠ æ³›å‹ï¼Œåˆ™ç±»å‹ä¸ºNothingã€‚

```scala
val array:Array[String] = new Array[String](3)		//éœ€è¦æ·»åŠ æ³›å‹ï¼Œå¦åˆ™å†…éƒ¨å…ƒç´ ä¸ºNothingç±»å‹
//ç”¨å°æ‹¬å·æ¥è®¿é—®
array(0) = "1"
array(1) = "2"
array(2) = "3"
println(array(1))
//å¾ªç¯æ‰“å°
for ï¼ˆelem <- array){
    println(elem)
}
++æ–¹æ³•ï¼š
val array1 = new Array[AnyVal](3)
    array1(0) = 1
    array1(1) = 2
    array1(2) = 3
val array2:Array[Any] = array.++(array1)	//ä¸å¯å˜æ•°ç»„++ä¼šç”Ÿæˆæ–°çš„æ•°ç»„ï¼Œè€Œä¸ä¼šå¯¹æœ¬èº«é€ æˆå½±å“

//æ„å»ºæ•°ç»„å¹¶åˆå§‹åŒ–
val ints = Array(1,"2",3)	//è°ƒç”¨applyæ–¹æ³•,èƒ½è‡ªåŠ¨æ¨æ–­ç±»å‹
```

Arrayï¼ˆå®é™…æ˜¯ä¸€ä¸ªStringæ•°ç»„ï¼‰æ•°ç»„çš„æ–¹æ³•ï¼š

array.length/updateï¼ˆï¼Œï¼‰/++()  ç”±äºæ•°ç»„ä¸å¯å˜ï¼Œæ‰€ä»¥++æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°çš„Arrayæ•°ç»„å¯¹è±¡ã€‚

array.mkString(",")	å°†String[]æ•°ç»„è£…æ¢æˆå­—ç¬¦ä¸²ï¼Œç”¨ï¼Œåˆ†éš”ã€‚



ArrayBufferï¼šå°†æ•°ç»„çš„åŒ…è£…å¯¹è±¡ä½œä¸ºå‚æ•°æ¥æ„å»ºArrayBufferå¯¹è±¡ã€‚14:17

```scala
    val ints = ArrayBuffer(1,2,3)
    ints.append(5)
    ints.remove(1)
    println(ints(1))

    //éå†é›†åˆ
//    def f(x:Any) = {
//      println(x)
//    }
//
//    ints.foreach(f)
//    ints.foreach((x:Any)=>{println(x)})	//ç”¨åŒ¿åå‡½æ•°æ¥æ”¶å¹¶æ‰§è¡Œæ‰“å°
//    ints.foreach((x)=>println(x))
//    ints.foreach(println(_))
    ints.foreach(println)	//è‡³ç®€æ¨¡å¼
```

ab.appendï¼ˆ,,ï¼‰/mkString(",")/updateï¼ˆï¼Œï¼‰/removeï¼ˆï¼Œï¼‰

ab(0)=9 å’Œ ab.update(0,9)æ•ˆæœä¸€æ ·ã€‚



Listï¼š

	List(1,2,3) æœ‰åºå¯é‡å¤çš„ä¸å¯å˜é›†åˆ,ä¼šäº§ç”Ÿæ–°çš„é›†åˆ

```scala
ä¸å¯å˜Listé›†åˆ
	val numList = List(1,2,3)
//    val ints: List[Int] = numList:+(5)
//    ints.foreach(println)
//
//    val ints1: List[Int] = 5::(numList)
//    ints1.foreach(println)
//
//    val ints2:List[Int] = 5+:(numList)	//åŒ::
//    ints2.foreach(println)
//    numList(1) = 9                 //Liståªæœ‰updatedæ–¹æ³•ï¼Œæ‰€ä»¥ç›´æ¥ç”¨numListä¸è¡Œ
//    val list: List[Any] = numList.updated(1,"1")
//    list.foreach(println)
//    val list1: List[Int] = numList.drop(2)	//ä¸¢å¼ƒçš„æ•°é‡
//    list1.foreach(println)

//    val numList3: List[Int] = 1::2::3::Nil  //ä»å³å‘å·¦å°†æ•°åŠ å…¥åˆ°Nilç©ºé›†åˆä¸­
//    numList3.foreach(println)
    val numList4 = List(4,5,6)
    val numList5: List[Int] = 1::2::3::numList4:::Nil	//æ‰å¹³åŒ–
    numList5.foreach(println)

```

	Nilæ˜¯ä¸€ä¸ªé›†åˆçš„å¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªç©ºé›†åˆã€‚  var list = 1::2::3::Nil ä»å³å‘å·¦æ„å»ºäº†Listï¼ˆ1,2,3ï¼‰é›†åˆã€‚

	val list = 1::2::3::numList:::Nil ä¸‰ä¸ªå†’å·è¡¨ç¤ºå°†é›†åˆä¸­çš„å…ƒç´ æ‹†åˆ†ï¼ˆç§°ä¸ºæ‰å¹³åŒ–ï¼‰ååŠ å…¥åˆ°Nilä¸­ã€‚

	list.mkString("-")/++()/:+(5)/::(6)/+:() å°†æ•°å­—è°ƒæ•´åˆ°å‰é¢/updated(,) Listé›†åˆæ— æ³•ä½¿ç”¨å°æ‹¬å·æ–¹å¼/

dropï¼ˆï¼‰å‚æ•°ä¸ºä¸¢å¼ƒçš„æ•°é‡/



ListBuffer(1,2,3,4)  å¯å˜é›†åˆ

```scala
    val ints = ListBuffer(1,2,3)
//    ints.update(1,5)
    ints(1) = 5				//å¯ä»¥ä½¿ç”¨ï¼Œåº•å±‚è°ƒç”¨update
//    ints.append(5,6)
//    ints.insert(1,0,1,2)  // ç¬¬ä¸€ä¸ªæ•°è¡¨ç¤ºæ’å…¥ä½ç½®ï¼Œåç»­æ—¶æ’å…¥çš„æ•°æ®
//    ints.remove(2)          //ç§»é™¤ä¸‹æ ‡ä¸º2çš„æ•°æ®
//    ints.remove(1,2)        //ç§»é™¤ä¸‹æ ‡ä¸º1åŠå…¶ä¹‹åçš„2ä¸ªæ•°æ®
//    println(ints(1))        //åº•å±‚è°ƒç”¨äº†applyæ„é€ äº†ä¸å¯å˜æ•°ç»„ï¼Œè¾“å‡ºè¯¥æ•°ç»„çš„æŒ‡å®šå€¼
    ints.foreach(println)
```

lb.mkString(",")/update( , ) æˆ– lb(0)=9 /append()/insert( , )/remove()/



### set:  

	é»˜è®¤ä¸ºæ— åºä¸å¯é‡å¤çš„ä¸å¯å˜æ•°ç»„ï¼Œå¯¼å…¥collection.mutableåŒ…ï¼Œmutable.Setä¸ºå¯å˜æ•°ç»„

```
val ints = Set(1,2,3,4,4,4,5,6)   //è°ƒç”¨predefä¸­çš„immutable.Setçš„applyæ–¹æ³•ï¼Œæ˜¯ä¸å¯å˜æ•°ç»„
    val ints1 = collection.mutable.Set(1,2,3,4,4,4,5) //åˆ›å»ºå¯å˜Seté›†åˆ
    ints1.add(4)
    ints1.update(9,true)
    ints1.update(4,false)   //seté›†åˆä¸­çš„upsetå¯ä»¥ç”¨äºåˆ é™¤æ•°æ®ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºåˆ é™¤å€¼ï¼Œç¬¬äºŒä¸ªä¸ºæ˜¯å¦åˆ é™¤
    ints1.remove(3)         //åˆ é™¤æŒ‡å®šçš„æ•°æ®
    val ints2: mutable.Set[Int] = ints1.-(2)  //è¿”å›ä¸€ä¸ªæ–°é›†åˆï¼Œå°†2åˆ å»
    ints1.foreach(println)
```

	 ms.add()/update()/remove()    .-() ä¼šäº§ç”Ÿæ–°çš„æ•°ç»„/



### map:  15ï¼š45

	scalaçš„é”®å€¼å¯¹ï¼šK -> Vï¼Œä¹Ÿå¯ä»¥å°†å…¶å†™ä¸ºä¸¤ä¸ªå…ƒç´ çš„å…ƒç»„ï¼ˆK,Vï¼‰

```scala
 val stringToInt: Map[String, Int] = Map("a"->1,"b"->2,"c"->3)
    val stringToInt1: Map[String, Int] = stringToInt.+("d"->4) //ä¸å¯å˜å¢åŠ é”®å€¼å¯¹è¿”å›æ–°Mapå¯¹è±¡
    /*Optionåªæœ‰ä¸¤ä¸ªå¯¹è±¡ï¼ŒNoneå’ŒSomeï¼Œå¦‚æœæœ‰å€¼ä¸ºSomeï¼Œæ²¡æœ‰ä¸ºNoneã€‚Noneè°ƒç”¨å…¶ä»–æ–¹æ³•ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥åº”è¯¥è°ƒç”¨getOrElseã€‚å¦‚æœæ˜¯Someåˆ™è¿”å›å€¼ï¼Œå¦‚æœæ˜¯Noneåˆ™è¿”å›æŒ‡å®šçš„é»˜è®¤å€¼*/
    val maybeInt: Option[Int] = stringToInt.get("a")
    println(maybeInt.getOrElse(0))
    //Mapå¯¹è±¡å·²ç»æä¾›äº†getOrElseæ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨
    println(stringToInt.getOrElse("a",0))

    val stringToInt2 = mutable.Map("a"->1,"b"->2,"c"->3)    //å¯å˜çš„Mapé›†åˆ
    stringToInt2.update("a",11)   //ä¿®æ”¹æŸä¸ªkeyçš„valueå€¼
    val i: Int = stringToInt2.getOrElse("a",0)
    stringToInt2.remove("a")
//    println(stringToInt)
//    println(stringToInt.mkString(","))
//    stringToInt.foreach(println)
//	  for(item <- stringToInt){
//		println(item)
//	  }

//è·å–Mapé›†åˆä¸­çš„keyçš„é›†åˆå’Œvalueçš„é›†åˆ
    val keys: Iterable[String] = stringToInt.keys
    val set: Set[String] = stringToInt.keySet
    val iterator: Iterator[String] = stringToInt.keysIterator
    val values: Iterable[Int] = stringToInt.values
    val iterator1: Iterator[Int] = stringToInt.valuesIterator
	
	//ç”¨å…ƒç»„åˆ›å»ºMapé›†åˆ
    val stringToInt3 = Map(("a",1),("b",2),("c",3))
    //ç”¨å‚æ•°tæ¥æ”¶éå†çš„å…ƒç»„ï¼Œç„¶åå•ç‹¬å–å…ƒç»„çš„kå’Œvæ‰“å°å‡ºæ¥
    stringToInt3.foreach((t)=>{println(t._1+"="+t._2)})
```

Mapé›†åˆé€šè¿‡**getOrElseï¼ˆï¼‰**å–æ•°æ®ã€‚ .contains(key)åˆ¤è¯»å…ƒç´ æ˜¯å¦å­˜åœ¨

Mapéå†æ—¶ï¼Œç›´æ¥å†™å…ƒç»„ for((k,v), <- map){  ptinltn}  ï¼Œå®é™…ç”¨åˆ°äº†æ¨¡å¼åŒ¹é…ã€‚å°†å…ƒç»„ä¸ï¼ˆkï¼Œvï¼‰åŒ¹é…ï¼Œç„¶åæ‰“å°

### **Tupleï¼š**

**å…ƒç»„ï¼ˆå…ƒç´ çš„ç»„åˆï¼‰,å°†æ— å…³çš„æ•°æ®å½“æˆä¸€ä¸ªæ•´ä½“æ¥ä½¿ç”¨**

```scala
    val tuple: (Int, String, Int) = (1,"zhangsan",22)	//æœ€å¤šæ”¾22ä¸ªå…ƒç´ 
    val iterator: Iterator[Any] = tuple.productIterator
    for (elem <- iterator) {
      println(elem)                     //éå†å…ƒç»„
    }
    println(tuple.productElement(1))    //è®¿é—®å…ƒç»„ä¸­çš„å…ƒç´ 
    println(tuple._2)                   //åŒä¸Š
    println(tuple)                      //æ‰“å°æ•´ä¸ªå…ƒç»„
```

	ï¼ˆ1ï¼Œ"zhangsan",22ï¼‰ï¼Œæœ€å¤šåªèƒ½æ”¾22ä¸ªï¼Œå’Œå‡½æ•°çš„å‚æ•°ä¸€æ ·ï¼Œtupleä¸­è¿˜å¯ä»¥æ”¾tupleã€‚



å¦‚æœå…ƒç»„ä¸­åªæœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œç§°ä¹‹ä¸ºå¯¹å¶æˆ–é”®å€¼å¯¹ï¼š

	val t = ("a",1)

	val stringToInt1 = Map(("a",1),("b",2)) 	å°†ä¸¤å…ƒç´ çš„å…ƒç»„å¯ä»¥ä½œä¸ºé”®å€¼å¯¹æ”¾å…¥mapä¸­



å¯ä»¥é€šè¿‡ _n  ï¼Œ productElement  å’Œ  productIterator  æ–¹å¼éå†å…ƒç»„ã€‚

val (id,age,name) = (1,20,"zhangsan")  ;  printlnï¼ˆsâ€œ$id,$age,$name)	æ¨¡å¼åŒ¹é…ä¸Šåèµ‹å€¼ï¼Œç„¶åè¾“å‡º

### é›†åˆé€šç”¨çš„æ–¹æ³•ï¼š

scalaä¸­ç”¨==å¯ä»¥æ¯”è¾ƒå†…å®¹ï¼Œjavaä¸­åªèƒ½æ¯”è¾ƒå†…å­˜åœ°å€ã€‚

	.size/length/head/tail/last/init/sum/max/min/product/map/flatMap/filter/groupBy/zip/reduce/fold/foreach/sliding/scan/take/sortWith/sortBy/diff/union/reverse/intersect

javaä¸­çš„lengthæ˜¯åº•å±‚æ•°ç»„çš„é•¿åº¦ï¼Œsizeæ˜¯å…ƒç´ ä¸ªæ•°ã€‚scalaä¸­æ˜¯ä¸€æ ·çš„ã€‚

```scala
val nums: List[Int] = List(1,2,3,4)

    nums.head   //å–ç¬¬ä¸€ä¸ªå…ƒç´ 
    nums.tail   //å–é™¤äº†ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„
    nums.last   //å–æœ€åä¸€ä¸ªå…ƒç´ 
    nums.init   //å–é™¤äº†æœ€åä¸€ä¸ªå…ƒç´ çš„æ•°ç»„
    nums.size
    nums.length //scalaä¸­sizeå’Œlengthä¸€æ ·ï¼Œéƒ½æ˜¯å…ƒç´ ä¸ªæ•°

    nums.sum
    nums.max
    nums.min
    nums.product  //ä¹˜ç§¯

    //sortByå’ŒsortWithæ’åº
    val ints: List[Int] = nums.sortBy((num:Int)=> num) //é€šè¿‡Intå‹çš„numæ¥æ’åºï¼Œå¯ç®€å†™ä¸ºnum=>numï¼Œå‡åºæ’åº
	val ints11: List[Int] = nums.sortBy((num:String)=> num.toInt)//å°†å­—ç¬¦ä¸²è½¬ä¸ºintå†æ’åº
    println(ints)     //é€šè¿‡æŒ‡å®šçš„è§„åˆ™æ¥æ’åº
    val ints1: List[Int] = nums.sortWith(_>_) //é™åºæ’åˆ—ï¼Œ_<_ä¸ºå‡åºæ’åˆ—
    println(ints1)

    //filterè¿‡æ»¤å™¨
    val ints2: List[Int] = nums.filter((num)=> num%2 == 1)  //è¿‡æ»¤å‡ºå•æ•°
    println(ints2)
    //è¿‡æ»¤å‡ºé›†åˆä¸­ä»¥Så¼€å¤´çš„å•è¯
    val wordList: List[String] = List("Hadoop","Hbase","Spark","Scala")
    val wordList1: List[String] = wordList.filter((s)=>"S".equals(s.substring(0,1)))
    println(wordList1)

    //mapæ˜ å°„æ–¹æ³•å¯ä»¥å°†æ‰å¹³åŒ–æ•°æ®ç«‹ä½“åŒ–ï¼Œyieldä¹Ÿæœ‰æ˜ å°„åŠŸèƒ½ä½†æ˜¯åŠŸèƒ½ä¸å¼º
    val ints3: List[Int] = nums.map(_*2)  //å°†é›†åˆä¸­æ‰€æœ‰å…ƒç´ *2æ˜ å°„åˆ°æ–°æ•°ç»„ä¸­ï¼ŒåŒ¿åå‡½æ•°å†™å…¨ä¸º(x:Int)=>x*2
    println(ints3)
    val tuples: List[(Int, Int)] = nums.map((_,1))//å°†é›†åˆä¸­å…ƒç´ æ˜ å°„ä¸ºå…ƒç»„ï¼ŒåŒ¿åå‡½æ•°å†™å…¨(x:Int)=>(x,1)
    println(tuples)
    //flatMapå¯ä»¥å°†æ•°æ®æ‰å¹³åŒ–ï¼Œåœ¨å°†æ•°ç»„æ‰å¹³åŒ–æ”¾å…¥Nilæ—¶ç”¨åˆ°:::ä¹Ÿæ˜¯æ‰å¹³åŒ–
    val list: List[List[Int]] = List(List(1,2),List(3,4),List(5,6))
    val intsToOnceToList = list.flatMap((l:List[Int])=>l)
    println(intsToOnceToList)

    val words: List[String] = List("Hello World","Hello Scala")
    val strings: List[String] = words.flatMap(_.split(" ")) //å†™å…¨ä¸º(s:String)=>s.split(" ")
    println(strings)

    val intToInt = Map(("1",3),("2",4))
    val iterable: immutable.Iterable[Any] = intToInt.flatMap(t=>List(t._1,t._2))
    iterable.foreach(println)
    
//    nums.groupBy()
//    nums.reduce
//    nums.foreach	//é›†åˆçš„å¾ªç¯éå†ï¼Œæ²¡æœ‰è¿”å›å€¼
//    nums.fold
//    nums.sliding	//æŠŠä¸€éƒ¨åˆ†æ•°æ®ä½œä¸ºæ•´ä½“ï¼ˆçª—å£ï¼‰ï¼Œå¯¹çª—å£åšçš„æ“ä½œç§°ä¸ºçª—å£å‡½æ•°ï¼Œçª—å£å¯ä»¥æ»‘åŠ¨ã€‚
//    nums.scan		//scanå°†foldæ“ä½œçš„ä¸­é—´è¿‡ç¨‹ä¿å­˜ä¸ºä¸€ä¸ªæ•°ç»„
//    nums.take()	//ä»é›†åˆä¸­å–å‰nä¸ªæ•°æ®


//    nums.diff			//ä¸¤é›†åˆçš„å·®é›†ï¼ˆå‰åé¡ºåºå¯¹ç»“æœæœ‰å½±å“ï¼‰
//    nums.union		//ä¸¤é›†åˆçš„å¹¶é›†
//    nums.intersect	//ä¸¤é›†åˆçš„äº¤é›†
//    nums.reverse      //åè½¬æ•°ç»„
//    nums.zip			//æ‹‰é“¾ï¼Œå°†å¯¹åº”çš„æ•°æ®ä½œä¸ºtupleæ”¾å…¥é›†åˆä¸­
```



```scala
ç”¨foldæ–¹æ³•å°†å¥å­ä¸­çš„æ‰€æœ‰å­—ç¬¦æŒ‰é¡ºåºæ”¾å…¥åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼š
object FoldExecise {
  def main(args: Array[String]): Unit = {
    val sentence = "AAAAAABBBBCCCDD"
    val arrayBuffer = ArrayBuffer[Char]()
    if(arrayBuffer.isInstanceOf[ArrayBuffer[Char]]){
      println(true)
    }
    //å¦‚æœå‚æ•°æ˜¯é›†åˆï¼Œæ¯æ¬¡è¯»å–sentenceé›†åˆæ—¶ï¼Œéƒ½ä¼šå°†é›†åˆä¼ å…¥
    sentence.foldLeft(arrayBuffer)(putArray)

    println(arrayBuffer)

    def putArray(arr:ArrayBuffer[Char],c:Char) : ArrayBuffer[Char] = {
      println(arr)
      arr.append(c)
      arr
    }
  }
}
```

```scala
ç»Ÿè®¡ä¸€ä¸ªå¥å­ä¸­çš„æ¯ä¸ªå­—æ¯çš„ä¸ªæ•°ï¼š
object FoldExecise2{
  def main(args: Array[String]): Unit = {
    val sentence = "AAAAAABBBBCCCDD"

    def charCount(map : Map[Char,Int],c : Char) : Map[Char,Int] = {
      map + (c->(map.getOrElse(c,0) + 1))
    }

    val charToInt: Map[Char, Int] = sentence.foldLeft(Map[Char, Int]())(charCount)
    charToInt.foreach(t => println(t.productElement(0) + "=" + t._2))

  }
}
ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­çš„ç›¸åŒå•è¯çš„ä¸ªæ•°ï¼š
object WordCount {
  def main(args: Array[String]): Unit = {
    val wordList = List("Hello Spark","Hello Scala","Hello Flink")

    val strings: List[String] = wordList.flatMap(s=>s.split(" "))
    val stringToStrings: Map[String, List[String]] = strings.groupBy(s=>s)
    println(stringToStrings.map(t=>(t._1,t._2.length)))
    println(stringToStrings.foreach(t => (t.productElement(0), t.productElement(1))))
  }
}
ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­çš„ç›¸åŒå•è¯çš„ä¸ªæ•°ï¼ˆï¼‰ï¼š
object WordCount1{
  def main(args: Array[String]): Unit = {
    val wordList = List(("Hello Spark",4),("Hello Scala",2),("Hello Flink",3))
    val strings: List[String] = wordList.map(t=>(t._1 + " ")*t._2)
    println(strings.flatMap(_.split(" ")).groupBy(t => t).map(t => (t._1, t._2.size)))
  }
}
```

```scala
å°†ä¸¤ä¸ªMapä¸­çš„ç›¸åŒkeyçš„valueç›¸åŠ ï¼š
import scala.collection.mutable.Map

object CombineMap {
  def main(args: Array[String]): Unit = {
    val map = Map[String,Int](("a",2),("b",4),("c",1))
    val map1 = Map[String,Int](("a",2),("b",4),("d",1))

    val stringToInt: Map[String, Int] = map.foldLeft(map1) {
//      (map: Map[String, Int], t: (String, Int)) => map.+(t._1 -> (map.getOrElse(t._1, 0) + t._2))
      (map: Map[String, Int], t: (String, Int)) => map(t._1) = map.getOrElse(t._1,0) + t._2
        map
    }
    println(stringToInt)

  }
}
å¦‚æœæ˜¯å¯å˜çš„Mapï¼Œç»“æœçš„è¿”å›å€¼ï¼Œæˆ–å‚æ•°map1éƒ½å¯ä»¥è¯»å–åˆ°ç»“æœã€‚
```

mapï¼ˆkeyï¼‰= value å¯ä»¥å¿«æ·çš„æ”¹å˜keyå¯¹åº”çš„valueå€¼ï¼

foldç±»å‹è¦ç›¸åŒï¼ŒfoldLeftç±»å‹å¯ä»¥ä¸åŒã€‚



```scala
åŒ¹é…å€¼ï¼š
for (ch <- "+-3!") { 
    var sign = 0
    var digit = 0
    ch match {
        case '+' => sign = 1
        case '-' => sign = -1
        case _ if ch.toString.equals("3") => digit = 3	//å®ˆå«ï¼Œå¦‚æœæ»¡è¶³ifæ¡ä»¶ï¼Œåˆ™åŒ¹é…è¯¥è¡Œ
        case _ => sign = 2
    }
    println(ch + " " + sign + " " + digit)
}
åŒ¹é…å˜é‡ï¼š
val ch = 'V'
ch match {
    case '+' => println("ok~")
    case mychar => println("ok~" + mychar)	å°†å€¼ç»™åˆ°å˜é‡å¹¶è¾“å‡º
    case _ => println ("ok~~")
}
åŒ¹é…ç±»å‹ï¼š
val a = 7
val obj = if(a == 1) 1
    else if(a == 2) "2"
    else if(a == 3) BigInt(3)
    else if(a == 4) Map("aa" -> 1)
    else if(a == 5) Map(1 -> "aa")
    else if(a == 6) Array(1, 2, 3)
    else if(a == 7) Array("aa", 1)
    else if(a == 8) Array("aa")

val result = obj match {	//ç±»å‹åŒ¹é…ä¸è€ƒè™‘æ³›å‹ï¼Œæ‰€ä»¥bå’Œcæ˜¯ä¸€æ ·çš„ã€‚Arrayæ ¹æ®æ³›å‹åº•å±‚æ˜¯ä¸åŒçš„æ•°ç»„
    case a : Int => a		//æ‰€ä»¥å’Œæ³›å‹æ— å…³ï¼Œå’Œæ•°ç»„ç±»å‹æœ‰å…³ã€‚
    case b : Map[String, Int] => "å¯¹è±¡æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²-æ•°å­—çš„Mapé›†åˆ"
    case c : Map[Int, String] => "å¯¹è±¡æ˜¯ä¸€ä¸ªæ•°å­—-å­—ç¬¦ä¸²çš„Mapé›†åˆ"
    case d : Array[String] => "å¯¹è±¡æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„"	//Array[String]åº•å±‚æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œä¸æ˜¯æ³›å‹
    case e : Array[Int] => "å¯¹è±¡æ˜¯ä¸€ä¸ªæ•°å­—æ•°ç»„"		//Array[Int]åº•å±‚æ˜¯intæ•°ç»„ï¼Œä¸æ˜¯æ³›å‹
    case _ : BigInt => Int.MaxValue				//å½“ä¸å…³å¿ƒå˜é‡æ—¶ï¼Œå¯ä»¥ç”¨_ä»£æ›¿
    case _ => "å•¥ä¹Ÿä¸æ˜¯"
}
println(result)
åŒ¹é…æ•°ç»„ï¼š
for (arr <- Array(Array(0), Array(1, 0), Array(0, 1, 0),
Array(1, 1, 0), Array(1, 1, 0, 1))) {
    val result = arr match {
        case Array(0) => "0"
        case Array(x, y) => x + "=" + y	//åŒ¹é…å˜é‡
        case Array(0, _*) => "ä»¥0å¼€å¤´å’Œæ•°ç»„"
        case _ => "ä»€ä¹ˆé›†åˆéƒ½ä¸æ˜¯"
    }
    println("result = " + result)
} 
åŒ¹é…åˆ—è¡¨ï¼š
for (list <- Array(List(0), List(1, 0), List(0, 0, 0), List(1, 0, 0))) {
    val result = list match {
        case 0 :: Nil => "0" //
        case x :: y :: Nil => x + " " + y 
        case 0 :: tail => "0 ..." 		//0::tail  ä»¥0å¼€å¤´çš„Liståˆ—è¡¨
        case _ => "something else"
    }
    println(result)
}
åŒ¹é…å…ƒç»„ï¼š
for (pair <- Array((0, 1), (1, 0), (2, 1),(1,0,2))) {
    val result = pair match { 
        case (0, _) => "0 ..." 
        case (y, 0) => y 
        case (a,b) => (b,a)		//åŒ¹é…å˜é‡
        case _ => "other" 
    }
    println(result)
}
åŒ¹é…å¯¹è±¡ï¼š
object unapply {
  def main(args: Array[String]): Unit = {
    val number: Double = 36.0
    number match {
      case Square(n) => println(n)	//å¯¹è±¡ç­‰äº36ï¼Œæ±‚å‚æ•°ï¼›è°ƒç”¨unapplyæ–¹æ³•å¾—åˆ°æ„é€ å‚æ•°
      case _ => println("nothing matched")
    }
  }
}
object Square {
  def unapply(z: Double): Option[Double] = Some(math.sqrt(z))//è¿”å›someåŒ¹é…æˆåŠŸï¼ŒnoneåŒ¹é…å¤±è´¥
  def apply(z: Double): Double = z * z
}
æ¨¡å¼åŒ¹é…
1.val (id,age,name) = (1,20,"zhangsan");printlnï¼ˆsâ€œ$id,$age,$name)	æ¨¡å¼åŒ¹é…ï¼Œç„¶åè¾“å‡º
2.for((k,v), <- map){  ptinltn }   Mapéå†æ—¶ï¼Œç›´æ¥å†™å…ƒç»„ 
3.val arr = Array(1, 7, 2, 9)
  val Array(first, second, _*) = arr 
  println(first, second) 
4.
val map = Map("A"->1, "B"->0, "C"->3)
for ( (k, v) <- map ) {
    println(k + " -> " + v)
}

for ((k, 0) <- map) {
    println(k + " --> " + 0)
}

for ((k, v) <- map if v == 0) {
    println(k + " ---> " + v)
}
5.é€šè¿‡æ¨¡å¼åŒ¹é…å¾—åˆ°æŸä¸ªå±æ€§çš„å€¼ï¼Œä¸»è¦æ˜¯ä»£ç å¯è¯»æ€§é«˜ï¼Œå†™æ˜äº†å–å‡ºå§“å
object match2{
  def main(args: Array[String]): Unit = {
    val tuples = List((1,"zs",18),(2,"ls",28),(3,"ww",38))
    val strings: List[String] = tuples.map {	
      case (id, name, age) => name			//æ­¤å¤„caseä¸èƒ½çœç•¥ï¼Œè¦å’Œå‚æ•°åˆ—è¡¨åŒºåˆ†å¼€
    }
    println(strings)
  }
}

æ ·ä¾‹ç±»

```



val (id,age,name) = (1,20,"zhangsan")  ;  printlnï¼ˆsâ€œ$id,$age,$name)	æ¨¡å¼åŒ¹é…ä¸Šåèµ‹å€¼ï¼Œç„¶åè¾“å‡º



æ ·ä¾‹ç±»ï¼š

æ ·ä¾‹ç±»ç”¨caseå…³é”®å­—è¿›è¡Œå£°æ˜ï¼Œæ˜¯ä¸ºæ¨¡å¼åŒ¹é…(å¯¹è±¡)è€Œä¼˜åŒ–çš„ç±»ï¼Œæ„é€ å™¨ä¸­çš„æ¯ä¸€ä¸ªå‚æ•°éƒ½æˆä¸ºvalâ€”â€”é™¤éå®ƒè¢«æ˜¾å¼åœ°å£°æ˜ä¸ºvarï¼Œè‡ªåŠ¨ç”Ÿæˆapplyã€unapplyã€toStringã€equalsã€hashCodeå’Œcopyæ–¹æ³•

```
abstract class Amount
case class Dollar(value: Double) extends Amount 
case class Currency(value: Double, unit: String) extends Amount
case object NoAmount extends Amount 

for (amt <- Array(Dollar(1000.0), Currency(1000.0, "RMB"), NoAmount)) {
    val result = amt match {
        case Dollar(v) => "$" + v
        case Currency(v, u) => v + " " + u
        case NoAmount => ""
    }
    println(amt + ": " + result)
}
```

æ ·ä¾‹ç±»çš„copyæ–¹æ³•å¯ä»¥å°†å¯¹è±¡å¤åˆ¶ï¼ŒDollar(20.0).copy(value=30.0)  èµ‹å€¼å¹¶æ”¹å˜åˆå§‹å€¼

å¯†å°ç±»ï¼šå¦‚æœæƒ³è®©caseç±»çš„æ‰€æœ‰å­ç±»éƒ½å¿…é¡»åœ¨ç”³æ˜è¯¥ç±»çš„ç›¸åŒçš„æºæ–‡ä»¶ä¸­å®šä¹‰ï¼Œå¯ä»¥å°†æ ·ä¾‹ç±»çš„é€šç”¨è¶…ç±»å£°æ˜ä¸ºsealedï¼Œè¿™ä¸ªè¶…ç±»ç§°ä¹‹ä¸ºå¯†å°ç±»ã€‚å¯†å°å°±æ˜¯ä¸èƒ½åœ¨å…¶ä»–æ–‡ä»¶ä¸­å®šä¹‰å­ç±»ã€‚





æ•°ç»„ä¸å˜é•¿æ•°ç»„çš„è½¬æ¢ï¼š

arr1.toBuffer  //å®šé•¿æ•°ç»„è½¬å¯å˜æ•°ç»„   arr2.toArray  //å˜é•¿æ•°ç»„è½¬å®šé•¿æ•°ç»„

scalaæ•°ç»„è½¬ä¸ºjavaæ•°ç»„ï¼šimport scala.collection.JavaConversions.bufferAsJavaList

val javaArr = new Processbuilderï¼ˆarrï¼‰

val arrList = javaArr.commandï¼ˆï¼‰ 

javaçš„Listè½¬Scalaæ•°ç»„:   import scala.collection.JavaConversions.asScalaBuffer

val scalaArr:mutable.Buffer[String] = arrList



queue:	ä¸¤ä¸ªæ–¹æ³•enqueueå’Œdequeue

```scala
object Queue1 {
  def main(args: Array[String]): Unit = {
    val queue = new mutable.Queue[String]
    queue.enqueue("1","2","4")
    println(queue.dequeue())
    println(queue.dequeue())
    println(queue.dequeue())
  }
}
```

streamï¼š  åªæœ‰è¯»å–æ—¶æ‰ä¼šåŠ è½½ï¼Œæœ«å°¾å…ƒç´ éµå¾ªlazyæƒ°æ€§åŠ è½½ã€‚

```
object Stream {
  def main(args: Array[String]): Unit = {
    def numsForm(n: BigInt): Stream[BigInt] = {
      n #:: numsForm(n * 2)
    }
    println(numsForm(1))	//Stream(1,?)
    println(numsForm(1).head)	//1
    println(numsForm(1).tail.tail)	//Stream(4,?)
  }
}
```

viewï¼šviewæ–¹æ³•äº§å‡ºä¸€ä¸ªæ€»æ˜¯è¢«æ‡’æ‰§è¡Œçš„é›†åˆã€‚viewä¸ä¼šç¼“å­˜æ•°æ®ï¼Œæ¯æ¬¡éƒ½è¦é‡æ–°è®¡ç®—ï¼Œæ¯”å¦‚éå†Viewæ—¶ã€‚å¦‚æœæ²¡æœ‰è¯»å–ï¼Œå°±ä¸ä¼šåŠ è½½è®¡ç®—ã€‚

```
val viewSquares2 = (1 to 100).view.map(multiple).filter(eq)
println(viewSquares2)
```



.par	å¤šçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œ

```scala
object Thread1{
  def main(args: Array[String]): Unit = {
    (1 to 5).foreach{println}
    println("------------")
    (1 to 5).par.foreach{println}

    val strings1: immutable.IndexedSeq[String] = (1 to 100).map{case _ => (Thread.currentThread().getName)}
    val strings2: ParSeq[String] = (1 to 100).par.map{case _ => Thread.currentThread().getName}
    println(strings1 distinct)
    println(strings2 distinct)
  }
}
```







## åå‡½æ•°ï¼š

mapå‡½æ•°æ˜¯å…¨é‡å‡½æ•°ï¼Œåªèƒ½å¯¹å…¨éƒ¨æ•°æ®åšè½¬æ¢ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨åå‡½æ•°ã€‚list.collect  æ”¯æŒåå‡½æ•°ã€‚

```scala
object PartialFunction2{
  def main(args: Array[String]): Unit = {
    val list = List(1,2,3,4,"abc")

//    def addOne(x : Any) : Any ={
//      x match {
//        case x:Int => x + 1
//        case _ =>
//      }
//    }


    val unit: PartialFunction[Any, Int] = new PartialFunction[Any, Int] {
      override def isDefinedAt(x: Any): Boolean = {   //è¿‡æ»¤éœ€è¦çš„æ•°æ®
        if (x.isInstanceOf[Int]) true
        else false
      }

      override def apply(x: Any) = {      //å°†è¿”å›trueçš„æ•°æ®äº¤ç»™applyå¤„ç†
        x.asInstanceOf[Int] + 1
      }
    }
    //mapå‡½æ•°æ˜¯å…¨é‡å‡½æ•°ï¼Œæ‰€ä»¥ä¸æ”¯æŒåå‡½æ•°ã€‚
//    list.map(unit))

    //å¯ä»¥ç”¨collectæ–¹æ³•
    println(list.collect(unit))
  }
}
```

scalaä¸­å¯¹åå‡½æ•°è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¯ä»¥ç®€å†™ï¼Œç›´æ¥ä½¿ç”¨caseå°±å¯ä»¥ï¼š

```scala
object PartialFunction3 {
  def main(args: Array[String]): Unit = {
    val list = List(1, 2, 3, 4, "abc")

    val ints: List[Int] = list.collect{case x:Int => x+1}	//é€šè¿‡caseå®ç°åå‡½æ•°çš„åŠŸèƒ½
    println(ints)
  }
}
```



## æŠ½è±¡æ§åˆ¶ï¼šå¯ä»¥å®ç°å¯¹ç®—æ³•çš„å°è£…

å¦‚æœå‚æ•°æ˜¯å‡½æ•°ï¼Œä¸”å‡½æ•°å‚æ•°æ²¡æœ‰è¾“å…¥å€¼ï¼Œä¹Ÿæ²¡æœ‰è¿”å›å€¼ï¼Œå³ç±»ä¼¼def myRunInThread(f1:  => Unit)  å‡½æ•°

```scala
object ChouXiangKongZhi {
  def main(args: Array[String]): Unit = {
    def f(p: => Unit) ={
      p
    }
    f {									è°ƒç”¨äº†æ–¹æ³•fï¼Œå¹¶å°†fä¸­çš„ä»£ç ä½œä¸ºå‚æ•°æ‰§è¡Œ
      for(elem <- 1 to 10){
        println(elem)
      }
    }
  }
}

```





## æ³›å‹

#### javaä¸­ï¼š

10:25æ³›å‹åªèƒ½å¯¹åç»­çš„æ“ä½œåšçº¦æŸã€‚å¦‚æœæ²¡æœ‰ç”¨åˆ°è¯¥å¯¹è±¡çš„ç±»å‹ï¼Œåˆ™ä¸ä¼šæŠ¥é”™ï¼Œç”¨åˆ°è¯¥å¯¹è±¡çš„ç±»å‹ï¼Œåˆ™æŠ¥é”™ã€‚

```java
public class FanXing {
    public static void main(String[] args) {
        List list = new ArrayList();
        list.add(new Emp());

        List<User> users = list;
        users.add(new User());

        System.out.println(users);	//æ­¤æ—¶usersè™½ç„¶æ³›å‹æ˜¯Userï¼Œä½†æ˜¯usersä¸­æœ‰Empå¯¹è±¡ï¼Œæ‰“å°ä¸æŠ¥é”™
    }											//ä½†æ˜¯å¾ªç¯éå†ä¼šæŠ¥é”™
}
class User{
}
class Emp{
}
```

ä¼ å¯¹è±¡ï¼š

public static <T extends User> void test(T t) {  System.out.println(t);  }	å…è®¸ä¼ å…¥Userå­ç±»ï¼Œæœ‰ä¸Šé™

public static <T super User> void test(T t) {  System.out.println(t);  }	**æŠ¥é”™**ï¼Œä¸èƒ½ä¼ çˆ¶ç±»å¯¹è±¡ï¼Œä¸åˆè¯­æ³•

ä¼ ç±»å‹ï¼š

public static <T> void test(Class<? extends User> t) {  System.out.println(t);  }	å…è®¸ä¼ å…¥Userå­ç±»ï¼Œæœ‰ä¸Šé™

public static <T> void test(Class<? super User>  t) {  System.out.println(t);  }	å…è®¸ä¼ å…¥Userå­ç±»ï¼Œæœ‰ä¸Šé™



#### scalaä¸­åå˜å’Œé€†å˜ï¼š

javaä¸­ä¸å…è®¸å­ç±»æˆ–çˆ¶ç±»æ³›å‹çš„å¯¹è±¡èµ‹å€¼ç»™å¸¦æ³›å‹çš„å¼•ç”¨ã€‚ä½†æ˜¯scalaæœ‰åå˜å’Œé€†å˜ã€‚

val a : AAA[User] = new AAA[SubUser] ()

class AAA[+User]  ç§°ä¸ºåå˜ï¼Œå¯ä»¥å°†AAAçš„å­ç±»æ³›å‹çš„å¯¹è±¡èµ‹ç»™AAAçš„çˆ¶ç±»æ³›å‹çš„å¼•ç”¨

val a : AAA[User] = new AAA[ParentUser] ()

class AAA[-User]  ç§°ä¸ºé€†å˜ï¼Œå¯ä»¥å°†AAAçš„å­ç±»æ³›å‹çš„å¯¹è±¡èµ‹ç»™AAAçš„çˆ¶ç±»æ³›å‹çš„å¼•ç”¨

é€†å˜å°±æ˜¯æ³›å‹å˜æˆå…¶çˆ¶ç±»ï¼Œçˆ¶ç±»çš„åŠŸèƒ½å°‘ï¼Œæ‰€ä»¥ç§°ä¸ºé€†å˜ã€‚åå˜ç›¸åã€‚



#### scalaä¸­çš„æ³›å‹ï¼š

def test**[ T  <:  User ]**( T:t ) :Unit = {}  æ³›å‹çš„ä¸Šé™ï¼Œå¯ä»¥ä¼ å…¥å­ç±»

def test**[ T  >:  User ]**( T:t ) :Unit = {}  scalaä¸­æ³›å‹æ²¡æœ‰ä¸‹é™ï¼Œå¯ä»¥ä¼ å…¥ä»»æ„ç±»ï¼Œåº•å±‚ç›¸å½“äºä¸åŠ æ³›å‹ã€‚













![çº¿ç¨‹å®‰å…¨é—®é¢˜](F:/Typora/å›¾ç‰‡/çº¿ç¨‹å®‰å…¨é—®é¢˜.PNG)

å¦‚ä¸Šå›¾ä¸ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› ä¸ºmainæ–¹æ³•å‹æ ˆï¼Œå¯¹è±¡åˆ›å»ºåœ¨æ ˆä¸­ï¼Œä¸ä¼šæœ‰å…¬ç”¨å±æ€§ã€‚

å¦‚æœå°†ssåˆ›å»ºåœ¨ç±»ä¸­æ–¹æ³•å¤–ï¼Œåˆ™åœ¨åªæœ‰ä¸€ä¸ªç±»å¯¹è±¡æ—¶ï¼Œéœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚
