---
title: 微信二维码扫码登录的原理
categories:
- 权限认证
---
扫二维码登录现在比较常见，比如微信、支付宝等 PC 端登录，并且越来越多的APP支持扫码登录，其中原理如何呢？

# PC端Cookie + Session 登录

HTTP 是一种无状态的协议，客户端每次发送请求时，首先要和服务器端建立一个连接，在请求完成后又会断开这个连接。这种方式可以节省传输时占用的连接资源，但同时也存在一个问题：每次请求都是独立的，服务器端无法判断本次请求和上一次请求是否来自同一个用户，进而也就无法判断用户的登录状态。

为了解决 HTTP 无状态的问题，Lou Montulli 在 1994 年的时候，推出了 Cookie。Cookie 是服务器端发送给客户端的一段特殊信息，这些信息以文本的方式存放在客户端，客户端每次向服务器端发送请求时都会带上这些特殊信息。有了 Cookie 之后，服务器端就能够获取到客户端传递过来的信息了，如果需要对信息进行验证，还需要通过 Session。客户端请求服务端，服务端会为这次请求开辟一块内存空间，这个便是 Session 对象。有了 Cookie 和 Session 之后，我们就可以进行登录认证了。

![Cookie + Session 实现流程](微信二维码扫码登录的原理.assets